{"version":3,"file":"powerups.modern.js","sources":["../../node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","../../node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","../../node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","../../node_modules/@juggle/resize-observer/lib/utils/freeze.js","../../node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","../../node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js","../../node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","../../node_modules/@juggle/resize-observer/lib/utils/element.js","../../node_modules/@juggle/resize-observer/lib/utils/global.js","../../node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","../../node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","../../node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","../../node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","../../node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","../../node_modules/@juggle/resize-observer/lib/utils/scheduler.js","../../node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","../../node_modules/@juggle/resize-observer/lib/utils/process.js","../../node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","../../node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","../../node_modules/@juggle/resize-observer/lib/ResizeObservation.js","../../node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","../../node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","../../node_modules/@juggle/resize-observer/lib/ResizeObserver.js","../../node_modules/decode-uri-component/index.js","../../node_modules/split-on-first/index.js","../../node_modules/filter-obj/index.js","../../node_modules/query-string/index.js","../../node_modules/strict-uri-encode/index.js","../src/hooks/useIsomorphicLayoutEffect.ts","../../node_modules/zustand/esm/index.js","../src/config.ts","../src/store.ts","../src/components/PerspectiveCamera.tsx","../src/components/OrthographicCamera.tsx","../src/utils/helpers.ts","../src/renderer-api.ts","../src/hooks/useScrollRig.ts","../src/components/DebugMesh.tsx","../../node_modules/react-intersection-observer/react-intersection-observer.modern.mjs","../../node_modules/debounce/index.js","../src/hooks/useWindowSize.ts","../../node_modules/vecn/src/index.js","../src/utils/math.ts","../src/scrollbar/useScrollbar.ts","../src/hooks/useTracker.ts","../src/components/ScrollScene.tsx","../src/components/ViewportScrollScene.tsx","../src/components/UseCanvas.tsx","../../node_modules/suspend-react/dist/index.js","../src/hooks/useCanvas.ts","../../node_modules/supports-webp/index.js","../../node_modules/fast-deep-equal/index.js","../src/hooks/useImageAsTexture.ts","../../node_modules/@studio-freight/lenis/dist/lenis.modern.mjs","../src/scrollbar/SmoothScrollbar.tsx","../src/components/R3FSmoothScrollbar.tsx","../powerups/WebGLText.tsx","../powerups/WebGLImage.tsx","../powerups/ParallaxScrollScene.tsx","../powerups/StickyScrollScene.tsx","../../node_modules/@14islands/lerp/index.js","../../node_modules/lerp/index.js"],"sourcesContent":["var resizeObservers = [];\nexport { resizeObservers };\n","var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n","var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n","export var freeze = function (obj) { return Object.freeze(obj); };\n","var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\".concat(toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n","import { freeze } from './utils/freeze';\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        freeze(this);\n    }\n    return ResizeObserverSize;\n}());\nexport { ResizeObserverSize };\n","import { freeze } from './utils/freeze';\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n","var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_a = obj === null || obj === void 0 ? void 0 : obj.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n","export var global = typeof window !== 'undefined' ? window : {};\n","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { ResizeObserverSize } from '../ResizeObserverSize';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { freeze } from '../utils/freeze';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nimport { freeze } from './utils/freeze';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = freeze([boxes.borderBoxSize]);\n        this.contentBoxSize = freeze([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n","import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n","import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n","var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nmodule.exports = function (obj, predicate) {\n\tvar ret = {};\n\tvar keys = Object.keys(obj);\n\tvar isArr = Array.isArray(predicate);\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = obj[key];\n\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\n\t\t\tret[key] = val;\n\t\t}\n\t}\n\n\treturn ret;\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\nconst filterObject = require('filter-obj');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tif (param === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${encode(object.fragmentIdentifier, options)}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n\nexports.pick = (input, filter, options) => {\n\toptions = Object.assign({\n\t\tparseFragmentIdentifier: true\n\t}, options);\n\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\n\treturn exports.stringifyUrl({\n\t\turl,\n\t\tquery: filterObject(query, filter),\n\t\tfragmentIdentifier\n\t}, options);\n};\n\nexports.exclude = (input, filter, options) => {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn exports.pick(input, exclusionFilter, options);\n};\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","import { useEffect, useLayoutEffect as vanillaUseLayoutEffect } from 'react'\n\nexport const isBrowser = typeof window !== 'undefined'\n\nexport const useLayoutEffect = isBrowser ? vanillaUseLayoutEffect : useEffect\n","import { useReducer, useRef, useDebugValue, useEffect, useLayoutEffect } from 'react';\n\nfunction createStore(createState) {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\n    console.warn(\"[DEPRECATED] Please use `subscribeWithSelector` middleware\");\n    let currentSlice = selector(state);\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => listeners.clear();\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\nconst useIsomorphicLayoutEffect = isSSR ? useEffect : useLayoutEffect;\nfunction create(createState) {\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useStore = (selector = api.getState, equalityFn = Object.is) => {\n    const [, forceUpdate] = useReducer((c) => c + 1, 0);\n    const state = api.getState();\n    const stateRef = useRef(state);\n    const selectorRef = useRef(selector);\n    const equalityFnRef = useRef(equalityFn);\n    const erroredRef = useRef(false);\n    const currentSliceRef = useRef();\n    if (currentSliceRef.current === void 0) {\n      currentSliceRef.current = selector(state);\n    }\n    let newStateSlice;\n    let hasNewStateSlice = false;\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = useRef(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = api.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n      const unsubscribe = api.subscribe(listener);\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n      return unsubscribe;\n    }, []);\n    const sliceToReturn = hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n    useDebugValue(sliceToReturn);\n    return sliceToReturn;\n  };\n  Object.assign(useStore, api);\n  useStore[Symbol.iterator] = function() {\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n    const items = [useStore, api];\n    return {\n      next() {\n        const done = items.length <= 0;\n        return { value: items.shift(), done };\n      }\n    };\n  };\n  return useStore;\n}\n\nexport { create as default };\n","// Global config\nimport type { Scene, Camera, WebGLRenderer } from 'three'\n\ntype PreloadCallback = (gl: WebGLRenderer, scene: Scene, camera: Camera) => void\n\nexport const config = {\n  // Execution order for useFrames (highest = last render)\n  PRIORITY_PRELOAD: 0,\n  PRIORITY_SCISSORS: 1,\n  PRIORITY_VIEWPORTS: 1,\n  PRIORITY_GLOBAL: 1000,\n\n  DEFAULT_SCALE_MULTIPLIER: 1,\n\n  // Global rendering props\n  preloadQueue: [] as PreloadCallback[],\n}\n","import create from 'zustand'\nimport { config } from './config'\n\nimport { ScrollCallback } from './scrollbar/SmoothScrollbarTypes'\n\ninterface ScrollRigStore {\n  debug: boolean\n  scaleMultiplier: number\n  globalRender: boolean\n  globalPriority: number\n  globalClearDepth: boolean\n  globalRenderQueue: false | any[]\n  clearGlobalRenderQueue: () => void\n  isCanvasAvailable: boolean\n  hasSmoothScrollbar: boolean\n  canvasChildren: Record<string, any | undefined>\n  updateCanvas: (key: string, newProps: any) => void\n  renderToCanvas: (key: string, mesh: any, props: any) => void\n  removeFromCanvas: (key: string, dispose: boolean) => void\n  pageReflow: number\n  requestReflow: () => void\n  scroll: {\n    y: number\n    x: number\n    limit: number\n    velocity: number\n    progress: number\n    direction: number\n    scrollDirection?: 'vertical' | 'horizontal'\n  }\n  scrollTo: (target: any) => void\n  onScroll: (cb: ScrollCallback) => () => void\n}\n\nconst useCanvasStore = create<ScrollRigStore>((set) => ({\n  // //////////////////////////////////////////////////////////////////////////\n  // GLOBAL ScrollRig STATE\n  // //////////////////////////////////////////////////////////////////////////\n  debug: false,\n  scaleMultiplier: config.DEFAULT_SCALE_MULTIPLIER,\n\n  globalRender: true,\n  globalPriority: config.PRIORITY_GLOBAL,\n  globalClearDepth: false,\n\n  globalRenderQueue: false,\n  clearGlobalRenderQueue: () => set(() => ({ globalRenderQueue: false })),\n\n  // true if WebGL initialized without errors\n  isCanvasAvailable: true,\n\n  // true if <VirtualScrollbar> is currently enabled\n  hasSmoothScrollbar: false,\n\n  // map of all components to render on the global canvas\n  canvasChildren: {},\n\n  // add component to canvas\n  renderToCanvas: (key, mesh, props = {}) =>\n    set(({ canvasChildren }) => {\n      // check if already mounted\n      if (Object.getOwnPropertyDescriptor(canvasChildren, key)) {\n        // increase usage count\n        canvasChildren[key].instances += 1\n        canvasChildren[key].props.inactive = false\n        return { canvasChildren }\n      } else {\n        // otherwise mount it\n        const obj = { ...canvasChildren, [key]: { mesh, props, instances: 1 } }\n        return { canvasChildren: obj }\n      }\n    }),\n\n  // pass new props to a canvas component\n  updateCanvas: (key, newProps) =>\n    // @ts-ignore\n    set(({ canvasChildren }) => {\n      if (!canvasChildren[key]) return\n      const {\n        [key]: { mesh, props, instances },\n      } = canvasChildren\n      const obj = {\n        ...canvasChildren,\n        [key]: { mesh, props: { ...props, ...newProps }, instances },\n      }\n      // console.log('updateCanvas', key, { ...props, ...newProps })\n      return { canvasChildren: obj }\n    }),\n\n  // remove component from canvas\n  removeFromCanvas: (key, dispose = true) =>\n    set(({ canvasChildren }) => {\n      // check if remove or reduce instances\n      if (canvasChildren[key]?.instances > 1) {\n        // reduce usage count\n        canvasChildren[key].instances -= 1\n        return { canvasChildren }\n      } else {\n        if (dispose) {\n          // unmount since no longer used\n          const { [key]: _omit, ...obj } = canvasChildren // make a separate copy of the obj and omit\n          return { canvasChildren: obj }\n        } else {\n          // or tell it that it is \"inactive\"\n          canvasChildren[key].instances = 0\n          canvasChildren[key].props.inactive = true\n          return { canvasChildren: { ...canvasChildren } }\n        }\n      }\n    }),\n\n  // Used to ask components to re-calculate their positions after a layout reflow\n  pageReflow: 0,\n  requestReflow: () => {\n    set((state) => {\n      return { pageReflow: state.pageReflow + 1 }\n    })\n  },\n\n  // keep track of scrollbar\n  scroll: {\n    y: 0,\n    x: 0,\n    limit: 0,\n    velocity: 0,\n    progress: 0,\n    direction: 0,\n    scrollDirection: undefined,\n  },\n  scrollTo: () => {},\n  onScroll: () => () => {},\n}))\n\nexport { useCanvasStore }\n","import React, { useRef, forwardRef, useMemo, useImperativeHandle } from 'react'\nimport { useThree } from '@react-three/fiber'\nimport { PerspectiveCamera as PerspectiveCameraImpl } from 'three'\n\nimport { useLayoutEffect } from '../hooks/useIsomorphicLayoutEffect'\nimport { useCanvasStore } from '../store'\n\ntype Props = JSX.IntrinsicElements['perspectiveCamera'] & {\n  makeDefault?: boolean\n  margin?: number\n}\n\nconst DEFAULT_FOV = 50\n\nexport const PerspectiveCamera = forwardRef(({ makeDefault = false, margin = 0, ...props }: Props, ref) => {\n  const set = useThree((state) => state.set)\n  const camera = useThree((state) => state.camera)\n  const size = useThree((state) => state.size)\n  const viewport = useThree((state) => state.viewport)\n  const cameraRef = useRef<PerspectiveCameraImpl>(null!)\n  useImperativeHandle(ref, () => cameraRef.current)\n\n  const pageReflow = useCanvasStore((state) => state.pageReflow)\n  const scaleMultiplier = useCanvasStore((state) => state.scaleMultiplier)\n\n  // Calculate FoV or distance to match DOM size\n  const { fov, distance, aspect } = useMemo(() => {\n    const width = (size.width + margin * 2) * scaleMultiplier\n    const height = (size.height + margin * 2) * scaleMultiplier\n    const aspect = width / height\n\n    // check props vs defaults\n    let fov = props.fov || DEFAULT_FOV\n    let distance = (props?.position as number[])?.[2]\n\n    // calculate either FoV or distance to match scale\n    if (distance) {\n      // calculate FoV based on distance\n      fov = 2 * (180 / Math.PI) * Math.atan(height / (2 * distance))\n    } else {\n      // calculate distance for specified FoV\n      const ratio = Math.tan(((fov / 2.0) * Math.PI) / 180.0) * 2.0\n      distance = height / ratio\n    }\n\n    return { fov, distance, aspect }\n  }, [size, scaleMultiplier, pageReflow])\n\n  // Update camera projection and R3F viewport\n  useLayoutEffect(() => {\n    cameraRef.current.lookAt(0, 0, 0)\n    cameraRef.current.updateProjectionMatrix()\n    // https://github.com/react-spring/@react-three/fiber/issues/178\n    // Update matrix world since the renderer is a frame late\n    cameraRef.current.updateMatrixWorld()\n    // update r3f viewport which is lagging on resize\n    set((state) => ({ viewport: { ...state.viewport, ...viewport.getCurrentViewport(camera) } }))\n  }, [size, scaleMultiplier, pageReflow])\n\n  useLayoutEffect(() => {\n    if (makeDefault) {\n      const oldCam = camera\n      set(() => ({ camera: cameraRef.current! }))\n      return () => set(() => ({ camera: oldCam }))\n    }\n    // The camera should not be part of the dependency list because this components camera is a stable reference\n    // that must exchange the default, and clean up after itself on unmount.\n  }, [cameraRef, makeDefault, set])\n\n  return (\n    <perspectiveCamera\n      ref={cameraRef}\n      position={[0, 0, distance]}\n      onUpdate={(self) => self.updateProjectionMatrix()}\n      near={0.1}\n      aspect={aspect}\n      fov={fov}\n      far={distance * 2}\n      {...props}\n    />\n  )\n})\n","import React, { useRef, forwardRef, useMemo, useImperativeHandle } from 'react'\nimport { OrthographicCamera as OrthographicCameraImpl } from 'three'\nimport { useThree } from '@react-three/fiber'\n\nimport { useLayoutEffect } from '../hooks/useIsomorphicLayoutEffect'\nimport { useCanvasStore } from '../store'\n\ntype Props = JSX.IntrinsicElements['orthographicCamera'] & {\n  makeDefault?: boolean\n  margin?: number\n}\nexport const OrthographicCamera = forwardRef(({ makeDefault = false, margin = 0, ...props }: Props, ref) => {\n  const set = useThree((state) => state.set)\n  const camera = useThree((state) => state.camera)\n  const size = useThree((state) => state.size)\n\n  const pageReflow = useCanvasStore((state) => state.pageReflow)\n  const scaleMultiplier = useCanvasStore((state) => state.scaleMultiplier)\n\n  const distance = useMemo(() => {\n    const width = size.width * scaleMultiplier\n    const height = size.height * scaleMultiplier\n    return Math.max(width, height)\n  }, [size, pageReflow, scaleMultiplier])\n\n  const cameraRef = useRef<OrthographicCameraImpl>(null!)\n  useImperativeHandle(ref, () => cameraRef.current)\n  useLayoutEffect(() => {\n    cameraRef.current.lookAt(0, 0, 0)\n    cameraRef.current.updateProjectionMatrix()\n    // https://github.com/react-spring/@react-three/fiber/issues/178\n    // Update matrix world since the renderer is a frame late\n    cameraRef.current.updateMatrixWorld()\n  }, [distance, size])\n\n  useLayoutEffect(() => {\n    if (makeDefault) {\n      const oldCam = camera\n      set(() => ({ camera: cameraRef.current! }))\n      return () => set(() => ({ camera: oldCam }))\n    }\n    // The camera should not be part of the dependency list because this components camera is a stable reference\n    // that must exchange the default, and clean up after itself on unmount.\n  }, [cameraRef, makeDefault, set])\n\n  return (\n    <orthographicCamera\n      left={(size.width * scaleMultiplier) / -2 - margin * scaleMultiplier}\n      right={(size.width * scaleMultiplier) / 2 + margin * scaleMultiplier}\n      top={(size.height * scaleMultiplier) / 2 + margin * scaleMultiplier}\n      bottom={(size.height * scaleMultiplier) / -2 - margin * scaleMultiplier}\n      far={distance * 2}\n      position={[0, 0, distance]}\n      near={0.001}\n      ref={cameraRef}\n      onUpdate={(self) => self.updateProjectionMatrix()}\n      {...props}\n    />\n  )\n})\n","import { Object3D } from 'three'\n\ntype CulledObject = {\n  wasFrustumCulled?: boolean\n  wasVisible?: boolean\n} & Object3D\n\n// Use to override Frustum temporarily to pre-upload textures to GPU\nexport function setAllCulled(obj: CulledObject, overrideCulled: boolean) {\n  if (!obj) return\n  if (overrideCulled === false) {\n    obj.wasFrustumCulled = obj.frustumCulled\n    obj.wasVisible = obj.visible\n    obj.visible = true\n    obj.frustumCulled = false\n  } else {\n    obj.visible = !!obj.wasVisible\n    obj.frustumCulled = !!obj.wasFrustumCulled\n  }\n  obj.children.forEach((child) => setAllCulled(child, overrideCulled))\n}\n","import { config } from './config'\nimport { Vector2, WebGLRenderer, Scene, Camera } from 'three'\nimport { invalidate } from '@react-three/fiber'\n\nimport { setAllCulled } from './utils/helpers'\nimport { useCanvasStore } from './store'\n\nconst viewportSize = new Vector2()\n\n// Flag that we need global rendering (full screen)\nexport const requestRender = (layers = [0]) => {\n  useCanvasStore.getState().globalRenderQueue = useCanvasStore.getState().globalRenderQueue || [0]\n  useCanvasStore.getState().globalRenderQueue = [...(useCanvasStore.getState().globalRenderQueue || []), ...layers]\n}\n\nexport const renderScissor = ({\n  gl,\n  scene,\n  camera,\n  left,\n  top,\n  width,\n  height,\n  layer = 0,\n  autoClear = false,\n  clearDepth = false,\n}: any) => {\n  if (!scene || !camera) return\n  gl.autoClear = autoClear\n  gl.setScissor(left, top, width, height)\n  gl.setScissorTest(true)\n  camera.layers.set(layer)\n  clearDepth && gl.clearDepth()\n  gl.render(scene, camera)\n  gl.setScissorTest(false)\n}\n\nexport const renderViewport = ({\n  gl,\n  scene,\n  camera,\n  left,\n  top,\n  width,\n  height,\n  layer = 0,\n  scissor = true,\n  autoClear = false,\n  clearDepth = false,\n}: any) => {\n  if (!scene || !camera) return\n  gl.getSize(viewportSize)\n  gl.autoClear = autoClear\n  gl.setViewport(left, top, width, height)\n  gl.setScissor(left, top, width, height)\n  gl.setScissorTest(scissor)\n  camera.layers.set(layer)\n  clearDepth && gl.clearDepth()\n  gl.render(scene, camera)\n  gl.setScissorTest(false)\n  gl.setViewport(0, 0, viewportSize.x, viewportSize.y)\n}\n\nexport const preloadScene = (scene: Scene, camera: Camera, layer = 0, callback?: () => void) => {\n  config.preloadQueue.push((gl: WebGLRenderer, globalScene: Scene, globalCamera: Camera) => {\n    gl.setScissorTest(false)\n    setAllCulled(scene || globalScene, false)\n    camera.layers.set(layer)\n    gl.render(scene || globalScene, camera || globalCamera)\n    setAllCulled(scene || globalScene, true)\n    callback && callback()\n  })\n  // auto trigger a new frame for the preload\n  invalidate()\n}\n","import { useEffect } from 'react'\n\nimport type { Scene, Camera } from 'three'\nimport { useCanvasStore } from '../store'\nimport { preloadScene, requestRender, renderScissor, renderViewport } from '../renderer-api'\n\nexport interface ScrollRigState {\n  debug: boolean\n  isCanvasAvailable: boolean\n  hasSmoothScrollbar: boolean\n  scaleMultiplier: number\n  preloadScene: (scene: Scene, camera: Camera, layer?: number, callback?: any) => void\n  requestRender: (layers?: number[]) => void\n  renderScissor: (args: any) => void\n  renderViewport: (args: any) => void\n  reflow: () => void\n}\n\n/**\n * Public interface for ScrollRig\n */\nexport const useScrollRig = () => {\n  const isCanvasAvailable = useCanvasStore((state) => state.isCanvasAvailable)\n  const hasSmoothScrollbar = useCanvasStore((state) => state.hasSmoothScrollbar)\n  const requestReflow = useCanvasStore((state) => state.requestReflow)\n  const pageReflow = useCanvasStore((state) => state.pageReflow)\n  const debug = useCanvasStore((state) => state.debug)\n  const scaleMultiplier = useCanvasStore((state) => state.scaleMultiplier)\n\n  useEffect(() => {\n    if (debug) {\n      // @ts-ignore\n      window._scrollRig = window._scrollRig || {}\n      // @ts-ignore\n      window._scrollRig.reflow = requestReflow\n    }\n  }, [])\n\n  return {\n    // boolean state\n    debug,\n    isCanvasAvailable,\n    hasSmoothScrollbar,\n    // scale\n    scaleMultiplier,\n    // render API\n    preloadScene,\n    requestRender,\n    renderScissor,\n    renderViewport,\n    // recalc all tracker positions\n    reflow: requestReflow,\n    reflowCompleted: pageReflow,\n  } as ScrollRigState\n}\n","import React from 'react'\nimport { Color } from 'three'\n\nexport const DebugMesh = ({ scale }: { scale: [x: number, y: number, z: number] }) => (\n  <mesh scale={scale}>\n    <planeGeometry />\n    <shaderMaterial\n      args={[\n        {\n          uniforms: {\n            color: { value: new Color('hotpink') },\n          },\n          vertexShader: `\n            void main() {\n              gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n          `,\n          fragmentShader: `\n            uniform vec3 color;\n            uniform float opacity;\n            void main() {\n              gl_FragColor.rgba = vec4(color, .5);\n            }\n          `,\n        },\n      ]}\n      transparent\n    />\n  </mesh>\n)\n","import * as React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst observerMap = new Map();\nconst RootIds = new WeakMap();\nlet rootId = 0;\nlet unsupportedValue = undefined;\n/**\r\n * What should be the default behavior if the IntersectionObserver is unsupported?\r\n * Ideally the polyfill has been loaded, you can have the following happen:\r\n * - `undefined`: Throw an error\r\n * - `true` or `false`: Set the `inView` value to this regardless of intersection state\r\n * **/\n\nfunction defaultFallbackInView(inView) {\n  unsupportedValue = inView;\n}\n/**\r\n * Generate a unique ID for the root element\r\n * @param root\r\n */\n\nfunction getRootId(root) {\n  if (!root) return '0';\n  if (RootIds.has(root)) return RootIds.get(root);\n  rootId += 1;\n  RootIds.set(root, rootId.toString());\n  return RootIds.get(root);\n}\n/**\r\n * Convert the options to a string Id, based on the values.\r\n * Ensures we can reuse the same observer when observing elements with the same options.\r\n * @param options\r\n */\n\n\nfunction optionsToId(options) {\n  return Object.keys(options).sort().filter(key => options[key] !== undefined).map(key => {\n    return `${key}_${key === 'root' ? getRootId(options.root) : options[key]}`;\n  }).toString();\n}\n\nfunction createObserver(options) {\n  // Create a unique ID for this observer instance, based on the root, root margin and threshold.\n  let id = optionsToId(options);\n  let instance = observerMap.get(id);\n\n  if (!instance) {\n    // Create a map of elements this observer is going to observe. Each element has a list of callbacks that should be triggered, once it comes into view.\n    const elements = new Map();\n    let thresholds;\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        var _elements$get;\n\n        // While it would be nice if you could just look at isIntersecting to determine if the component is inside the viewport, browsers can't agree on how to use it.\n        // -Firefox ignores `threshold` when considering `isIntersecting`, so it will never be false again if `threshold` is > 0\n        const inView = entry.isIntersecting && thresholds.some(threshold => entry.intersectionRatio >= threshold); // @ts-ignore support IntersectionObserver v2\n\n        if (options.trackVisibility && typeof entry.isVisible === 'undefined') {\n          // The browser doesn't support Intersection Observer v2, falling back to v1 behavior.\n          // @ts-ignore\n          entry.isVisible = inView;\n        }\n\n        (_elements$get = elements.get(entry.target)) == null ? void 0 : _elements$get.forEach(callback => {\n          callback(inView, entry);\n        });\n      });\n    }, options); // Ensure we have a valid thresholds array. If not, use the threshold from the options\n\n    thresholds = observer.thresholds || (Array.isArray(options.threshold) ? options.threshold : [options.threshold || 0]);\n    instance = {\n      id,\n      observer,\n      elements\n    };\n    observerMap.set(id, instance);\n  }\n\n  return instance;\n}\n/**\r\n * @param element - DOM Element to observe\r\n * @param callback - Callback function to trigger when intersection status changes\r\n * @param options - Intersection Observer options\r\n * @param fallbackInView - Fallback inView value.\r\n * @return Function - Cleanup function that should be triggered to unregister the observer\r\n */\n\n\nfunction observe(element, callback, options = {}, fallbackInView = unsupportedValue) {\n  if (typeof window.IntersectionObserver === 'undefined' && fallbackInView !== undefined) {\n    const bounds = element.getBoundingClientRect();\n    callback(fallbackInView, {\n      isIntersecting: fallbackInView,\n      target: element,\n      intersectionRatio: typeof options.threshold === 'number' ? options.threshold : 0,\n      time: 0,\n      boundingClientRect: bounds,\n      intersectionRect: bounds,\n      rootBounds: bounds\n    });\n    return () => {// Nothing to cleanup\n    };\n  } // An observer with the same options can be reused, so lets use this fact\n\n\n  const {\n    id,\n    observer,\n    elements\n  } = createObserver(options); // Register the callback listener for this element\n\n  let callbacks = elements.get(element) || [];\n\n  if (!elements.has(element)) {\n    elements.set(element, callbacks);\n  }\n\n  callbacks.push(callback);\n  observer.observe(element);\n  return function unobserve() {\n    // Remove the callback from the callback list\n    callbacks.splice(callbacks.indexOf(callback), 1);\n\n    if (callbacks.length === 0) {\n      // No more callback exists for element, so destroy it\n      elements.delete(element);\n      observer.unobserve(element);\n    }\n\n    if (elements.size === 0) {\n      // No more elements are being observer by this instance, so destroy it\n      observer.disconnect();\n      observerMap.delete(id);\n    }\n  };\n}\n\nconst _excluded = [\"children\", \"as\", \"triggerOnce\", \"threshold\", \"root\", \"rootMargin\", \"onChange\", \"skip\", \"trackVisibility\", \"delay\", \"initialInView\", \"fallbackInView\"];\n\nfunction isPlainChildren(props) {\n  return typeof props.children !== 'function';\n}\n/**\r\n ## Render props\r\n\n To use the `<InView>` component, you pass it a function. It will be called\r\n whenever the state changes, with the new value of `inView`. In addition to the\r\n `inView` prop, children also receive a `ref` that should be set on the\r\n containing DOM element. This is the element that the IntersectionObserver will\r\n monitor.\r\n\n If you need it, you can also access the\r\n [`IntersectionObserverEntry`](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry)\r\n on `entry`, giving you access to all the details about the current intersection\r\n state.\r\n\n ```jsx\r\n import { InView } from 'react-intersection-observer';\r\n\n const Component = () => (\r\n <InView>\r\n {({ inView, ref, entry }) => (\r\n      <div ref={ref}>\r\n        <h2>{`Header inside viewport ${inView}.`}</h2>\r\n      </div>\r\n    )}\r\n </InView>\r\n );\r\n\n export default Component;\r\n ```\r\n\n ## Plain children\r\n\n You can pass any element to the `<InView />`, and it will handle creating the\r\n wrapping DOM element. Add a handler to the `onChange` method, and control the\r\n state in your own component. Any extra props you add to `<InView>` will be\r\n passed to the HTML element, allowing you set the `className`, `style`, etc.\r\n\n ```jsx\r\n import { InView } from 'react-intersection-observer';\r\n\n const Component = () => (\r\n <InView as=\"div\" onChange={(inView, entry) => console.log('Inview:', inView)}>\r\n <h2>Plain children are always rendered. Use onChange to monitor state.</h2>\r\n </InView>\r\n );\r\n\n export default Component;\r\n ```\r\n */\n\n\nclass InView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.node = null;\n    this._unobserveCb = null;\n\n    this.handleNode = node => {\n      if (this.node) {\n        // Clear the old observer, before we start observing a new element\n        this.unobserve();\n\n        if (!node && !this.props.triggerOnce && !this.props.skip) {\n          // Reset the state if we get a new node, and we aren't ignoring updates\n          this.setState({\n            inView: !!this.props.initialInView,\n            entry: undefined\n          });\n        }\n      }\n\n      this.node = node ? node : null;\n      this.observeNode();\n    };\n\n    this.handleChange = (inView, entry) => {\n      if (inView && this.props.triggerOnce) {\n        // If `triggerOnce` is true, we should stop observing the element.\n        this.unobserve();\n      }\n\n      if (!isPlainChildren(this.props)) {\n        // Store the current State, so we can pass it to the children in the next render update\n        // There's no reason to update the state for plain children, since it's not used in the rendering.\n        this.setState({\n          inView,\n          entry\n        });\n      }\n\n      if (this.props.onChange) {\n        // If the user is actively listening for onChange, always trigger it\n        this.props.onChange(inView, entry);\n      }\n    };\n\n    this.state = {\n      inView: !!props.initialInView,\n      entry: undefined\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    // If a IntersectionObserver option changed, reinit the observer\n    if (prevProps.rootMargin !== this.props.rootMargin || prevProps.root !== this.props.root || prevProps.threshold !== this.props.threshold || prevProps.skip !== this.props.skip || prevProps.trackVisibility !== this.props.trackVisibility || prevProps.delay !== this.props.delay) {\n      this.unobserve();\n      this.observeNode();\n    }\n  }\n\n  componentWillUnmount() {\n    this.unobserve();\n    this.node = null;\n  }\n\n  observeNode() {\n    if (!this.node || this.props.skip) return;\n    const {\n      threshold,\n      root,\n      rootMargin,\n      trackVisibility,\n      delay,\n      fallbackInView\n    } = this.props;\n    this._unobserveCb = observe(this.node, this.handleChange, {\n      threshold,\n      root,\n      rootMargin,\n      // @ts-ignore\n      trackVisibility,\n      // @ts-ignore\n      delay\n    }, fallbackInView);\n  }\n\n  unobserve() {\n    if (this._unobserveCb) {\n      this._unobserveCb();\n\n      this._unobserveCb = null;\n    }\n  }\n\n  render() {\n    if (!isPlainChildren(this.props)) {\n      const {\n        inView,\n        entry\n      } = this.state;\n      return this.props.children({\n        inView,\n        entry,\n        ref: this.handleNode\n      });\n    }\n\n    const _this$props = this.props,\n          {\n      children,\n      as\n    } = _this$props,\n          props = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    return React.createElement(as || 'div', _extends({\n      ref: this.handleNode\n    }, props), children);\n  }\n\n}\n\n/**\r\n * React Hooks make it easy to monitor the `inView` state of your components. Call\r\n * the `useInView` hook with the (optional) [options](#options) you need. It will\r\n * return an array containing a `ref`, the `inView` status and the current\r\n * [`entry`](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry).\r\n * Assign the `ref` to the DOM element you want to monitor, and the hook will\r\n * report the status.\r\n *\r\n * @example\r\n * ```jsx\r\n * import React from 'react';\r\n * import { useInView } from 'react-intersection-observer';\r\n *\r\n * const Component = () => {\r\n *   const { ref, inView, entry } = useInView({\r\n *       threshold: 0,\r\n *   });\r\n *\r\n *   return (\r\n *     <div ref={ref}>\r\n *       <h2>{`Header inside viewport ${inView}.`}</h2>\r\n *     </div>\r\n *   );\r\n * };\r\n * ```\r\n */\n\nfunction useInView({\n  threshold,\n  delay,\n  trackVisibility,\n  rootMargin,\n  root,\n  triggerOnce,\n  skip,\n  initialInView,\n  fallbackInView,\n  onChange\n} = {}) {\n  var _state$entry;\n\n  const [ref, setRef] = React.useState(null);\n  const callback = React.useRef();\n  const [state, setState] = React.useState({\n    inView: !!initialInView,\n    entry: undefined\n  }); // Store the onChange callback in a `ref`, so we can access the latest instance\n  // inside the `useEffect`, but without triggering a rerender.\n\n  callback.current = onChange;\n  React.useEffect(() => {\n    // Ensure we have node ref, and that we shouldn't skip observing\n    if (skip || !ref) return;\n    let unobserve = observe(ref, (inView, entry) => {\n      setState({\n        inView,\n        entry\n      });\n      if (callback.current) callback.current(inView, entry);\n\n      if (entry.isIntersecting && triggerOnce && unobserve) {\n        // If it should only trigger once, unobserve the element after it's inView\n        unobserve();\n        unobserve = undefined;\n      }\n    }, {\n      root,\n      rootMargin,\n      threshold,\n      // @ts-ignore\n      trackVisibility,\n      // @ts-ignore\n      delay\n    }, fallbackInView);\n    return () => {\n      if (unobserve) {\n        unobserve();\n      }\n    };\n  }, // We break the rule here, because we aren't including the actual `threshold` variable\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [// If the threshold is an array, convert it to a string, so it won't change between renders.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  Array.isArray(threshold) ? threshold.toString() : threshold, ref, root, rootMargin, triggerOnce, skip, trackVisibility, fallbackInView, delay]);\n  const entryTarget = (_state$entry = state.entry) == null ? void 0 : _state$entry.target;\n  React.useEffect(() => {\n    if (!ref && entryTarget && !triggerOnce && !skip) {\n      // If we don't have a node ref, then reset the state (unless the hook is set to only `triggerOnce` or `skip`)\n      // This ensures we correctly reflect the current state - If you aren't observing anything, then nothing is inView\n      setState({\n        inView: !!initialInView,\n        entry: undefined\n      });\n    }\n  }, [ref, entryTarget, triggerOnce, skip, initialInView]);\n  const result = [setRef, state.inView, state.entry]; // Support object destructuring, by adding the specific values.\n\n  result.ref = result[0];\n  result.inView = result[1];\n  result.entry = result[2];\n  return result;\n}\n\nexport { InView, defaultFallbackInView, observe, useInView };\n//# sourceMappingURL=react-intersection-observer.modern.mjs.map\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","import { useState, useEffect } from 'react'\nimport { ResizeObserver as Polyfill } from '@juggle/resize-observer'\nimport pkg from 'debounce'\n\nconst isBrowser = typeof window !== 'undefined'\nexport interface WindowSize {\n  width: number\n  height: number\n}\n\ntype ConfigProps = {\n  debounce?: number\n}\n\n/*\n * Triggers a resize only if the Canvas DOM element changed dimensions - not on window resize event\n *\n * This is to avoid costly re-renders when the URL bar is scrolled away on mobile\n *\n * Based on: https://usehooks.com/useWindowSize/\n */\n\nexport function useWindowSize({ debounce = 0 }: ConfigProps = {}) {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState<WindowSize>({\n    width: isBrowser ? window.innerWidth : Infinity,\n    height: isBrowser ? window.innerHeight : Infinity,\n  })\n\n  useEffect(() => {\n    // check if we can find a canvas - if so, base size on canvas instead of window\n    // since 100vh !== window.innerHeight on mobile\n    const canvasEl = document.getElementById('ScrollRig-canvas')\n\n    // Handler to call on window resize\n    function handleResize() {\n      const width = canvasEl ? canvasEl.clientWidth : window.innerWidth\n      const height = canvasEl ? canvasEl.clientHeight : window.innerHeight\n\n      if (width !== windowSize.width || height !== windowSize.height) {\n        // Set window width/height to state\n        setWindowSize({\n          width,\n          height,\n        })\n      }\n    }\n\n    const debouncedResize = pkg.debounce(handleResize, debounce)\n\n    // Add event listener\n    const ResizeObserver = window.ResizeObserver || Polyfill\n    let observer: ResizeObserver\n    if (canvasEl) {\n      observer = new ResizeObserver(debouncedResize)\n      observer.observe(canvasEl)\n    } else {\n      window.addEventListener('resize', debouncedResize)\n    }\n    // Call handler right away so state gets updated with initial window size\n    handleResize()\n    // Remove event listener on cleanup\n    return () => {\n      window.removeEventListener('resize', debouncedResize)\n      observer?.disconnect()\n    }\n  }, [windowSize, setWindowSize])\n\n  return windowSize\n}\n","/**\n * An object for memoizing vecType functions.\n * @type {Object}\n * @private\n */\nlet vecTypes = (function () {\n  const handler = {\n    get: function (obj, prop) {\n      if (!obj.hasOwnProperty(prop)) {\n        obj[prop] = getVecType(prop)\n      }\n      return obj[prop]\n    }\n  }\n\n  return new Proxy({}, handler)\n})()\n\n/**\n * A class for fixed-size vectors of numbers.\n * @extends Array\n */\nclass vecn extends Array {\n  /**\n   * Creates a vecn of the specified dimension. This should never be called\n   * by the user (as if this were an abstract class).\n   * @param {number} dimension The dimension of this vector.\n   * @param {number[]} [args=[]] The numbers to be put in the vector.\n   */\n  constructor (dimension, args) {\n    args = flattenOuter(args)\n\n    if (!args.every((x) => type(x) === 'Number')) {\n      throw new TypeError('All arguments must be numbers.')\n    }\n    if (args.length > 1 && args.length !== dimension) {\n      throw new Error('Argument list must be empty, have a single number, or have a length equal to the dimension.')\n    }\n\n    if (args.length === 0) {\n      args = [0]\n    }\n    if (args.length === 1 && type(args[0]) === 'Number') {\n      args = Array(dimension).fill(args[0])\n    }\n\n    if (dimension > 1) {\n      super(...args)\n    } else {\n      super(1)\n      this[0] = args[0]\n    }\n\n    Reflect.defineProperty(this, 'pop', {\n      value: undefined,\n      enumerable: false\n    })\n    Reflect.defineProperty(this, 'push', {\n      value: undefined,\n      enumerable: false\n    })\n    Reflect.defineProperty(this, 'shift', {\n      value: undefined,\n      enumerable: false\n    })\n    Reflect.defineProperty(this, 'unshift', {\n      value: undefined,\n      enumerable: false\n    })\n  }\n\n  /**\n   * The L2 norm (Euclidian norm) of the vector.\n   * @type {number}\n   */\n  get magnitude () {\n    return this.pnorm(2)\n  }\n\n  // --------------------------------------------------------------------------\n  //   Arithmetic\n\n  /**\n   * Returns a vector where this is divided by v componentwise. If v is\n   * a single number, the vector is scaled by 1/v.\n   * @param {number|number[]} v The value to multiply with.\n   *\n   * @returns {vecn} A new vector with the divided components.\n   */\n  div (v) {\n    checkCompatibility(v, this.dim, true)\n    if (type(v) === 'Number') {\n      v = (new Array(this.dim)).fill(v)\n    }\n\n    let result = []\n    for (let i = 0; i < this.length; ++i) {\n      result[i] = this[i] / v[i]\n    }\n    return vecTypes[this.dim](result)\n  }\n\n  /**\n   * Returns a vector where v is subtracted from the components of this\n   * vector. If v is a single number, it is subtracted to each component. If v\n   * is a vector, the vectors are combined componentwise.\n   * @param {number|number[]} v The value to subtract from this vector.\n   *\n   * @returns {vecn} A new vector with the combined components.\n   */\n  minus (v) {\n    checkCompatibility(v, this.dim, true)\n    if (type(v) === 'Number') {\n      v = (new Array(this.dim)).fill(v)\n    }\n\n    let result = []\n    for (let i = 0; i < this.dim; ++i) {\n      result[i] = this[i] - v[i]\n    }\n    return vecTypes[this.dim](result)\n  }\n\n  /**\n   * Negates each element in this vector.\n   * @returns {vecn} A new vector where all elements are negated.\n   */\n  neg () {\n    return vecTypes[this.dim](this.times(-1))\n  }\n\n  /**\n   * Returns a vector where v is added to the components of this vector. If v\n   * is a single number, it is added to each component. If v is a vector, the\n   * vectors are added componentwise.\n   * @param {number|number[]} v The value to add to this vector.\n   *\n   * @returns {vecn} A new vector with the summed components.\n   */\n  plus (v) {\n    checkCompatibility(v, this.dim, true)\n    if (type(v) === 'Number') {\n      v = (new Array(this.dim)).fill(v)\n    }\n\n    let result = []\n    for (let i = 0; i < this.dim; ++i) {\n      result[i] = this[i] + v[i]\n    }\n    return vecTypes[this.dim](result)\n  }\n\n  /**\n   * Returns a vector where each component of this was raised to a power p.\n   * @param {number} p The power to raise each component by.\n   *\n   * @returns {vecn} A new vector with the exponentiated components.\n   */\n  pow (p) {\n    let result = []\n    for (let i = 0; i < this.dim; ++i) {\n      result[i] = Math.pow(this[i], p)\n    }\n    return vecTypes[this.dim](result)\n  }\n\n  /**\n   * Returns a vector where v and this are multiplied componentwise. If v is\n   * a single number, the vector is scaled by v.\n   * @param {number|number[]} v The value to multiply with.\n   *\n   * @returns {vecn} A new vector with the multiplied components.\n   */\n  times (v) {\n    checkCompatibility(v, this.dim, true)\n    if (type(v) === 'Number') {\n      v = (new Array(this.dim)).fill(v)\n    }\n\n    let result = []\n    for (let i = 0; i < this.dim; ++i) {\n      result[i] = this[i] * v[i]\n    }\n    return vecTypes[this.dim](result)\n  }\n\n  // --------------------------------------------------------------------------\n  //   Vector Operations\n\n  /**\n   * Dot product of two vectors.\n   * @param {number[]} v The vector to dot with this one.\n   *\n   * @returns {number} The dot product between this and v.\n   */\n  dot (v) {\n    checkCompatibility(v, this.dim)\n\n    let result = 0\n    for (let i = 0; i < this.dim; ++i) {\n      result += this[i] * v[i]\n    }\n    return result\n  }\n\n  /**\n   * Scales this vector to a magnitude of 1.\n   *\n   * @returns {vecn} A new vector with scaled components.\n   */\n  normalize () {\n    return this.div(this.magnitude)\n  }\n\n  /**\n   * Evaluates the p-norm (or lp-norm) of this vector.\n   * @param {number} p The p-value to evaluate.\n   *\n   * @returns {number} The norm of this vector.\n   */\n  pnorm (p) {\n    let result = 0\n    for (let i = 0; i < this.dim; ++i) {\n      result += Math.pow(Math.abs(this[i]), p)\n    }\n    return Math.pow(result, 1 / p)\n  }\n\n  /**\n   * Reflects this vector across the provided vector. The normal can be imagined\n   * as a surface normal or as describing a hyperpalane.\n   * @param {number[]} normal A vector describing the hyperplane to reflect off of.\n   *\n   * @returns {vecn} The reflected vector.\n   */\n  reflect (normal) {\n    const n = normal.normalize()\n    return this.minus(n.times(2 * this.dot(n)))\n  }\n\n  // --------------------------------------------------------------------------\n  //   Extras\n\n  /**\n   * Finds the indices of the max value in this vector.\n   *\n   * @returns {number[]} An array of indices corresponding to the max values.\n   */\n  argmax () {\n    const maxVal = this.max()\n    return this.reduce((acc, x, i) => x === maxVal ? acc.concat([i]) : acc, [])\n  }\n\n  /**\n   * Finds the indices of the min value in this vector.\n   *\n   * @returns {number[]} An array of indices corresponding to the min values.\n   */\n  argmin () {\n    const minVal = this.min()\n    return this.reduce((acc, x, i) => x === minVal ? acc.concat([i]) : acc, [])\n  }\n\n  /**\n   * Creates a new vector from the provided indices of this one. Basically\n   * equivalent to swizzling.\n   * @param {number[]} indices The indices to select into a new vector.\n   *\n   * @returns {vecn} A new vector from the provided indices.\n   */\n  choose (indices) {\n    if (!Array.isArray(indices)) {\n      throw new TypeError('Argument must be a list of indices.')\n    }\n    if (!indices.every((i) => i < this.dim && isIndex(i.toString()))) {\n      throw new RangeError('All elements of argument must be valid indices.')\n    }\n\n    let v = []\n    indices.forEach((i) => v.push(this[i]))\n    return vecTypes[v.length](v)\n  }\n\n  /**\n   * Creates a duplicate of this vector. Same as passing this vector through\n   * the factory that created it.\n   *\n   * @returns {vecn} A deep copy of this vector.\n   */\n  copy () {\n    return vecTypes[this.dim](this)\n  }\n\n  /**\n   * Returns whether every element in each vector is equal.\n   * @param {number[]} v A vector to test against.\n   *\n   * @returns {boolean} True if both vectors have the same dimension and values.\n   */\n  equals (v) {\n    return v.length === this.dim && v.every((x, i) => this[i] === x)\n  }\n\n  /**\n   * Returns whether every element in each vector is approximately equal.\n   * @param {number[]} v A vector to test against.\n   * @param {number} epsilon The largest meaningful difference between two values.\n   *\n   * @returns {boolean} True if both vectors have the same dimension and the\n   * distance between each number is less than epsilon.\n   */\n  approximatelyEquals (v, epsilon = 0.00000001) {\n    return v.length === this.dim && v.every((x, i) => Math.abs(this[i] - x) < epsilon)\n  }\n\n  /**\n   * Returns the max value of this vector.\n   *\n   * @returns {number} The max value of this vector.\n   */\n  max () {\n    return Math.max(...this)\n  }\n\n  /**\n   * Returns the min value of this vector.\n   *\n   * @returns {number} The min value of this vector.\n   */\n  min () {\n    return Math.min(...this)\n  }\n\n  /**\n   * Sums the components of this vector.\n   *\n   * @returns {number} The sum of the components of this vector.\n   */\n  sum () {\n    return this.reduce((acc, x) => acc + x, 0)\n  }\n\n  /**\n   * Converts this vector into an Array.\n   *\n   * @returns {number[]} An array of the contents of this vector.\n   */\n  toArray () {\n    return Array.from(this)\n  }\n\n  // --------------------------------------------------------------------------\n  //   Array Overrides\n\n  /**\n   * Same as Array.prototype.concat, but return value is of a new vecType.\n   *\n   * @returns {vecn}\n   */\n  concat (...args) {\n    const result = super.concat.apply(this.toArray(), args)\n    return vecTypes[result.length](result)\n  }\n\n  /**\n   * Same as Array.prototype.filter, but returns an Array if the result has 0\n   * entries.\n   *\n   * @returns {vecn|number[]}\n   */\n  filter (...args) {\n    const result = super.filter.apply(this.toArray(), args)\n    if (result.length > 0) {\n      return vecTypes[result.length](result)\n    }\n    return result\n  }\n\n  /**\n   * Same as Array.prototype.map, but returns an Array if the result contains\n   * non-numbers.\n   *\n   * @returns {vecn|Array}\n   */\n  map (...args) {\n    const result = super.map(...args)\n    if (result.every((x) => type(x) === 'Number')) {\n      return result\n    }\n    return result.toArray()\n  }\n\n  /**\n   * Same as Array.prototype.slice, but returns an Array if the result has 0\n   * entries.\n   */\n  slice (...args) {\n    const result = super.slice.apply(this.toArray(), args)\n    if (result.length > 0) {\n      return vecTypes[result.length](result)\n    }\n    return result\n  }\n\n  /**\n   * A restrictive version of the Array.prototype.splice that requires all\n   * removed elements to be replaced.\n   */\n  splice (...args) {\n    let test = this.toArray()\n    test.splice(...args)\n\n    if (test.length !== this.dim) {\n      throw new Error('All removed elements must be replaced.')\n    }\n    if (!test.every((x) => type(x) === 'Number')) {\n      throw new TypeError('All elements must be numbers.')\n    }\n\n    test.forEach((x, i) => { this[i] = x })\n  }\n\n  toString () {\n    return this.reduce((s, x, i) => {\n      return s + x + (i === this.dim - 1 ? ' ' : ', ')\n    }, '[ ') + ']'\n  }\n}\n\n// --------------------------------------------------------------------------\n//   General Tools\n\n/**\n * Adds an arbitrary number of vectors together. All vectors must be of the same\n * dimension.\n * @param {...vecn} vecs Vectors to add together.\n *\n * @returns {vecn} The sum of all the provided vectors.\n */\nfunction add (...vecs) {\n  const dim = vecs[0].dim\n  if (!vecs.every((v) => v.dim === dim)) {\n    throw new TypeError('All vectors must have the same dimension.')\n  }\n  return vecs.reduce((acc, v) => acc.plus(v), vecTypes[dim]())\n}\n\n/**\n * The validator to be used in the proxy for all vec objects. Catches swizzling\n * properties, makes sure assignment only works for indices, and disallows\n * non-numerical assignments. Used in getVecType.\n * @constant\n * @type {Object}\n * @private\n */\nconst validator = {\n  set: function (obj, prop, value) {\n    if (prop === 'length') {\n      return false\n    }\n    if (isIndex(prop)) {\n      if (Number(prop) >= obj.dim) {\n        throw new RangeError('Vector may not have more elements than dimension.')\n      } else if (type(value) !== 'Number') {\n        throw new TypeError('Vectors may only contain numbers.')\n      } else {\n        obj[prop] = value\n        return true\n      }\n    }\n\n    const swizzleSymbolMap = getSwizzleSymbolMap(prop.toString())\n    if (obj.dim <= 4 && swizzleSymbolMap) {\n      swizzleSet(obj, prop.toString(), swizzleSymbolMap, value)\n      return true\n    }\n\n    return false\n  },\n  get: function (obj, prop) {\n    const swizzleSymbolMap = getSwizzleSymbolMap(prop.toString())\n    if (obj.dim <= 4 && swizzleSymbolMap) {\n      return swizzleGet(obj, prop, swizzleSymbolMap)\n    }\n\n    return obj[prop]\n  }\n}\n\n/**\n * Returns a factory function for vectors of the specified dimension.\n * @param {number} dim The dimension of the new vector type.\n *\n * @returns {Function} A factory (not a constructor) for creating new vecs.\n */\nfunction getVecType (dim) {\n  dim = Number(dim)\n\n  if (!(dim in vecTypes)) {\n    if (isNaN(dim)) throw new TypeError('Dimension must be coercible to a number.')\n    if (dim <= 0) throw new RangeError('Dimension must be positive.')\n    if (!Number.isInteger(dim)) throw new RangeError('Dimension must be positive.')\n\n    // Doing a little bit of exploiting ES6 to dynamically name the class\n    let classname = 'vec' + dim\n    let VecType = ({[classname]: class extends vecn {\n      constructor (...args) {\n        if (args.length === 1 && args[0] instanceof vecn) {\n          if (args[0].dim > dim) {\n            throw new TypeError('Cannot demote vectors.')\n          }\n          args = promoteArrayDimension(args[0].toArray(), dim)\n        }\n        super(dim, args)\n        Reflect.defineProperty(this, 'dim', {\n          value: dim,\n          writable: false,\n          enumerable: false\n        })\n      }\n    }})[classname]\n\n    let factory = function factory (...args) {\n      let target = new VecType(...args)\n      Object.preventExtensions(target)\n      return new Proxy(target, validator)\n    }\n    vecTypes[dim] = factory\n  }\n\n  return vecTypes[dim]\n}\n\n/**\n * The correct function for determining whether an object is a vecn.\n * @param {*} v The object in question.\n *\n * @returns {boolean} True if the object is an instance of vecn.\n */\nfunction isVec (v) {\n  return v instanceof vecn\n}\n\n/**\n * Linearly interpolates between two vectors.\n * @param {vecn} v1 The starting vector.\n * @param {vecn} v2 The ending vector.\n * @param {number} t The interpolant, which is clamped to the inteval [0, 1].\n *\n * @returns {vecn} The interpolated vector.\n */\nfunction lerp (v1, v2, t) {\n  if (v1.dim !== v2.dim) throw new TypeError('Vectors must have the same dimension.')\n  t = t < 0 ? 0 : (t > 1 ? 1 : t)\n  return v1.plus(v2.minus(v1).times(t))\n}\n\n/**\n * Multiplies an arbitrary number of vectors together. All vectors must be of the same\n * dimension.\n * @param {...vecn} vecs Vectors to multiply together.\n *\n * @returns {vecn} The product of all the provided vectors.\n */\nfunction multiply (...vecs) {\n  const dim = vecs[0].dim\n  if (!vecs.every((v) => v.dim === dim)) throw new TypeError('All vectors must have the same dimension.')\n  return vecs.reduce((acc, v) => acc.times(v), vecTypes[dim](1))\n}\n\n/**\n * Spherically interpolates between two vectors.\n * @param {vecn} v1 The starting vector.\n * @param {vecn} v2 The ending vector.\n * @param {number} t The interpolant, which is clamped to the inteval [0, 1].\n *\n * @returns {vecn} The interpolated vector.\n */\nfunction slerp (v1, v2, t) {\n  if (v1.dim !== v2.dim) throw new TypeError('Vectors must have the same dimension.')\n\n  t = t < 0 ? 0 : (t > 1 ? 1 : t)\n  let dot = v1.normalize().dot(v2.normalize())\n  dot = dot < -1 ? -1 : (dot > 1 ? 1 : dot)\n  const theta = Math.acos(dot) * t\n  const relative = v2.minus(v1.times(dot)).normalize()\n  const magnitude = v1.magnitude + ((v2.magnitude - v1.magnitude) * t)\n  return v1.times(Math.cos(theta)).plus(relative.times(Math.sin(theta)))\n    .normalize().times(magnitude)\n}\n\n// --------------------------------------------------------------------------\n//   Swizzling\n\n/**\n * The index corresponding to common names for indexing vectors.\n * @constant\n * @type {Object}\n * @private\n */\nconst namedIndices = [\n  {x: 0, y: 1, z: 2, w: 3},\n  {r: 0, g: 1, b: 2, a: 3},\n  {s: 0, t: 1, p: 2, q: 3}\n]\n\n/**\n * Gets the set of symbols corresponding to indices used for swizzling.\n * @private\n * @param {string} s The string used as a property to swizzle.\n *\n * @returns {Object} A map from characters to indices.\n */\nfunction getSwizzleSymbolMap (s) {\n  return namedIndices.find((map) => {\n    return s.split('').every((c) => c in map)\n  })\n}\n\n/**\n * Creates a new vector from the named indices given by swizzling.\n * @private\n * @param {vecn} v The vector to pull data from. The dimension is assumed to be\n * 2, 3, or 4, but this isn't enforced here.\n * @param {string} s The property being used to swizzle (e.g. 'xxy' or 'z').\n * @param {Object} set A map from characters to indices (assumed to be valid).\n *\n * @returns {undefined|number|vecn} Either undefined (if s isn't a valid swizzle\n * string), a number (if s has a length of 1), or a vecn where the values have\n * been rearranged according to the order given in s.\n */\nfunction swizzleGet (v, s, set) {\n  const newDim = s.length\n\n  if (newDim === 1) {\n    return v[set[s]]\n  }\n\n  let values = s.split('').reduce((acc, x) => {\n    let i = set[x]\n    return acc && i < v.dim ? acc.concat([v[i]]) : undefined\n  }, [])\n  return values ? new vecTypes[newDim](...values) : undefined\n}\n\n/**\n * Assigns the indexed values in v to the values in newVals in the order they\n * are described in in s.\n * @private\n * @param {vecn} v The starting vector.\n * @param {string} s The property being used to swizzle (e.g. 'xyz' or 'xz').\n * @param {Object} map A map from characters to indices (assumed to be valid).\n * @param {number|number[]} newVals The right hand side of the assignment\n *\n * @returns {vecn} A copy of v with the correct elements replaced.\n */\nfunction swizzleSet (v, s, map, newVals) {\n  if (s.length === 1) {\n    if (type(newVals) !== 'Number') {\n      throw new TypeError('Must set to a number')\n    }\n    v[map[s]] = newVals\n    return\n  }\n\n  if (!Array.isArray(newVals)) throw new TypeError('Right-hand side must be an array.')\n  if (s.length !== newVals.length) throw new TypeError('Right-hand side must have matching length.')\n  if (!newVals.every((item) => type(item) === 'Number')) throw new TypeError('All new values must be numbers.')\n\n  if (s.split('').some((c) => map[c] >= v.dim)) {\n    return\n  }\n\n  let valid = true\n  for (let i = 0, unique = {}; i < s.length; ++i) {\n    if (unique.hasOwnProperty(s[i])) {\n      valid = false\n      break\n    }\n    unique[s[i]] = true\n  }\n  if (!valid) throw new SyntaxError('Swizzle assignment does not allow symbols to be repeated.')\n\n  s.split('').map((c) => map[c]).forEach((index, i) => { v[index] = newVals[i] })\n}\n\n// --------------------------------------------------------------------------\n//   Helpers\n\n/**\n * Checks whether something is valid to do vector operations with and throws\n * a TypeError if not.\n * @private\n * @param {*} o An object to check.\n * @param {number} dim The dimension to check against.\n * @param {boolean} [numberValid=false] Whether scalars are compatible for the operation.\n */\nfunction checkCompatibility (o, dim, numberValid = false) {\n  if (numberValid && type(o) === 'Number') {\n    return\n  } else if (o.length && o.length === dim) {\n    return\n  }\n  throw new TypeError(`Invalid argument. Input must have matching dimension${numberValid ? 'or be a scalar' : ''}.`)\n}\n\n/**\n * Removes outer arrays and returns a reference to the innermost array. For\n * example, [[1, 2]] becomes [1, 2]. [[[['a'], true]]] becomes [['a'], true].\n * @private\n * @param {Array} arr The array to flatten.\n *\n * @returns {Array} A reference to the innermost array in arr.\n */\nfunction flattenOuter (arr) {\n  if (!(arr instanceof Array) || arr.length !== 1) {\n    return arr\n  }\n  if (arr[0] instanceof Array) {\n    return flattenOuter(arr[0])\n  }\n  return arr\n}\n\n/**\n * Checks whether a provided string can be used as a valid index into an array.\n * @private\n * @param {string} n A string representation of the number in question.\n *\n * @returns {boolean} True if n can be used to index an array.\n */\nfunction isIndex (n) {\n  return !isNaN(n) &&\n         Number(n).toString() === n &&\n         Number.isInteger(Number(n)) &&\n         Number(n) >= 0\n}\n\n/**\n * Lengthens an exsting array and fills new entries with 0 (does not mutate).\n * @private\n * @param {Array} arr The source array.\n * @param {number} dim The dimension of the new array.\n *\n * @returns {Array} A new array with length dim and arr as a prefix.\n */\nfunction promoteArrayDimension (arr, dim) {\n  return [...Array(dim)].map((_, i) => i < arr.length ? arr[i] : 0)\n}\n\n/**\n * Returns a string representing the type of an object. Similar to typeof, but\n * better with wrapped primitives, null, Array, etc...\n * @private\n * @param {*} obj The object to check the type of.\n *\n * @returns {string} A capitalized string describing the perceived type (i.e. 'Number', 'Array', etc...)\n */\nfunction type (obj) {\n  return Object.prototype.toString.call(obj).slice(8, -1)\n}\n\nmodule.exports = {\n  getVecType,\n  isVec,\n  vec2: vecTypes[2],\n  vec3: vecTypes[3],\n  vec4: vecTypes[4],\n\n  add,\n  multiply,\n  lerp,\n  slerp\n}\n","// Linear mapping from range <a1, a2> to range <b1, b2>\nexport function mapLinear(x: number, a1: number, a2: number, b1: number, b2: number) {\n  return b1 + ((x - a1) * (b2 - b1)) / (a2 - a1)\n}\n","import { useCanvasStore } from '../store'\nimport { ScrollCallback } from './SmoothScrollbarTypes'\n\nexport interface Scroll {\n  y: number\n  x: number\n  limit: number\n  velocity: number\n  progress: number\n  direction: number\n  scrollDirection: string\n}\n\ninterface UseScrollbarProps {\n  enabled: boolean\n  scroll: Scroll\n  scrollTo: (target: any) => void\n  onScroll: (cb: ScrollCallback) => () => void\n}\n\n/**\n * Public interface for ScrollRig\n */\nexport const useScrollbar = () => {\n  const hasSmoothScrollbar = useCanvasStore((state) => state.hasSmoothScrollbar)\n  const scroll = useCanvasStore((state) => state.scroll)\n  const scrollTo = useCanvasStore((state) => state.scrollTo)\n  const onScroll = useCanvasStore((state) => state.onScroll)\n\n  return {\n    enabled: hasSmoothScrollbar,\n    scroll,\n    scrollTo,\n    onScroll,\n  } as UseScrollbarProps\n}\n","// https://www.typescriptlang.org/docs/handbook/modules.html#ambient-modules\n/// <reference path=\"../types/global.ts\" />\n\nimport { useRef, useCallback, useEffect, useMemo, useState, MutableRefObject } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { useWindowSize } from './useWindowSize'\nimport vecn from 'vecn'\n\nimport { useLayoutEffect } from '../hooks/useIsomorphicLayoutEffect'\nimport { mapLinear } from '../utils/math'\nimport { useCanvasStore } from '../store'\n\nimport { useScrollbar, Scroll } from '../scrollbar/useScrollbar'\n\nimport type { Rect, Bounds, TrackerOptions, Tracker, ScrollState, UpdateCallback } from './useTrackerTypes'\n\nfunction updateBounds(bounds: Bounds, rect: Rect, scroll: Scroll, size: any) {\n  bounds.top = rect.top - (scroll.y || 0)\n  bounds.bottom = rect.bottom - (scroll.y || 0)\n  bounds.left = rect.left - (scroll.x || 0)\n  bounds.right = rect.right - (scroll.x || 0)\n  bounds.width = rect.width\n  bounds.height = rect.height\n  // move coordinate system so 0,0 is at center of screen\n  bounds.x = bounds.left + rect.width * 0.5 - size.width * 0.5\n  bounds.y = bounds.top + rect.height * 0.5 - size.height * 0.5\n  bounds.positiveYUpBottom = size.height - bounds.bottom // inverse Y\n}\n\nfunction updatePosition(position: vec3, bounds: Bounds, scaleMultiplier: number) {\n  position.x = bounds.x * scaleMultiplier\n  position.y = -1 * bounds.y * scaleMultiplier\n}\n\n/**\n * Returns the current Scene position of the DOM element\n * based on initial getBoundingClientRect and scroll delta from start\n */\nfunction useTracker(track: MutableRefObject<HTMLElement>, options?: TrackerOptions): Tracker {\n  const size = useWindowSize()\n  const { scroll, onScroll } = useScrollbar()\n  const scaleMultiplier = useCanvasStore((state) => state.scaleMultiplier)\n  const pageReflow = useCanvasStore((state) => state.pageReflow)\n  const debug = useCanvasStore((state) => state.debug)\n\n  // extend defaults with optional options\n  const { rootMargin, threshold, autoUpdate, wrapper } = useMemo(() => {\n    const target = { rootMargin: '0%', threshold: 0, autoUpdate: true } as TrackerOptions\n    const opts = options || {}\n    Object.keys(opts).map((key: string, index) => {\n      if (opts[key] !== undefined) target[key] = opts[key]\n    })\n    return target\n  }, [options])\n\n  // check if element is in viewport\n  const { ref, inView: inViewport } = useInView({ rootMargin, threshold })\n\n  // bind useInView ref to current tracking element\n  useLayoutEffect(() => {\n    ref(track.current)\n  }, [track, track.current])\n\n  // Using state so it's reactive\n  const [scale, setScale] = useState<vec3>(vecn.vec3(0, 0, 0))\n\n  // Using ref because\n  const scrollState: ScrollState = useRef({\n    inViewport: false,\n    progress: -1,\n    visibility: -1,\n    viewport: -1,\n  }).current\n\n  // DOM rect (initial position in pixels offset by scroll value on page load)\n  // Using ref so we can calculate bounds & position without a re-render\n  const rect = useRef({\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0,\n  }).current\n\n  // expose internal ref as a reactive state as well\n  const [reactiveRect, setReactiveRect] = useState<Rect>(rect)\n\n  // bounding rect in pixels - updated by scroll\n  const bounds = useRef({\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0,\n    x: 0,\n    y: 0,\n    positiveYUpBottom: 0,\n  }).current\n\n  // position in viewport units - updated by scroll\n  const position = useRef(vecn.vec3(0, 0, 0)).current\n\n  // Calculate bounding Rect as soon as it's available\n  useLayoutEffect(() => {\n    const _rect = track.current?.getBoundingClientRect()\n    if (!_rect) return\n    const initialY = wrapper ? (wrapper as HTMLElement).scrollTop : window.scrollY\n    const initialX = wrapper ? (wrapper as HTMLElement).scrollLeft : window.scrollX\n    rect.top = _rect.top + initialY\n    rect.bottom = _rect.bottom + initialY\n    rect.left = _rect.left + initialX\n    rect.right = _rect.right + initialX\n    rect.width = _rect.width\n    rect.height = _rect.height\n    setReactiveRect({ ...rect })\n    setScale(vecn.vec3(rect?.width * scaleMultiplier, rect?.height * scaleMultiplier, 1))\n    debug &&\n      console.log(\n        'useTracker.getBoundingClientRect:',\n        rect,\n        'intialScroll:',\n        { initialY, initialX },\n        'size:',\n        size,\n        'pageReflow:',\n        pageReflow\n      )\n  }, [track, size, pageReflow, scaleMultiplier, debug])\n\n  const update = useCallback(\n    ({ onlyUpdateInViewport = false, scroll: overrideScroll }: UpdateCallback = {}) => {\n      if (!track.current || (onlyUpdateInViewport && !scrollState.inViewport)) {\n        return\n      }\n\n      const _scroll = overrideScroll || scroll\n\n      updateBounds(bounds, rect, _scroll, size)\n      updatePosition(position, bounds, scaleMultiplier)\n\n      // scrollState setup based on scroll direction\n      const isHorizontal = _scroll.scrollDirection === 'horizontal'\n      const sizeProp = isHorizontal ? 'width' : 'height'\n      const startProp = isHorizontal ? 'left' : 'top'\n\n      // calculate progress of passing through viewport (0 = just entered, 1 = just exited)\n      const pxInside = size[sizeProp] - bounds[startProp]\n      scrollState.progress = mapLinear(pxInside, 0, size[sizeProp] + bounds[sizeProp], 0, 1) // percent of total visible distance\n      scrollState.visibility = mapLinear(pxInside, 0, bounds[sizeProp], 0, 1) // percent of item height in view\n      scrollState.viewport = mapLinear(pxInside, 0, size[sizeProp], 0, 1) // percent of window height scrolled since visible\n    },\n    [track, size, scaleMultiplier, scroll]\n  )\n\n  // update scrollState in viewport\n  useLayoutEffect(() => {\n    scrollState.inViewport = inViewport\n    // update once more in case it went out of view\n    update({ onlyUpdateInViewport: false })\n    debug && console.log('useTracker.inViewport:', inViewport, 'update()')\n  }, [inViewport])\n\n  // re-run if the callback updated\n  useLayoutEffect(() => {\n    update({ onlyUpdateInViewport: false })\n    debug && console.log('useTracker.update on resize/reflow')\n  }, [update, pageReflow])\n\n  // auto-update on scroll\n  useEffect(() => {\n    if (autoUpdate) return onScroll((_scroll) => update({ onlyUpdateInViewport: true }))\n  }, [autoUpdate, update, onScroll])\n\n  return {\n    rect: reactiveRect, // Dom rect - doesn't change on scroll - not - reactive\n    bounds, // scrolled bounding rect in pixels - not reactive\n    scale, // reactive scene scale - includes z-axis so it can be spread onto mesh directly\n    position, // scrolled element position in viewport units - not reactive\n    scrollState, // scroll progress stats - not reactive\n    inViewport, // reactive prop for when inside viewport\n    update, // optional manual update\n  }\n}\n\nexport { useTracker }\n","import React, { memo, useState, useCallback, MutableRefObject, ReactNode } from 'react'\nimport { Scene } from 'three'\nimport { useFrame, createPortal } from '@react-three/fiber'\n\nimport { useLayoutEffect } from '../hooks/useIsomorphicLayoutEffect'\nimport { config } from '../config'\nimport { useCanvasStore } from '../store'\nimport { useScrollRig } from '../hooks/useScrollRig'\nimport { DebugMesh } from './DebugMesh'\nimport { useTracker } from '../hooks/useTracker'\nimport type { ScrollState } from '../hooks/useTrackerTypes'\n\nexport interface ScrollSceneChildProps {\n  track: MutableRefObject<HTMLElement>\n  margin: number\n  priority: number\n  scale: vec3 | undefined\n  scrollState: ScrollState\n  inViewport: boolean\n}\n\ninterface ScrollScene {\n  track: MutableRefObject<HTMLElement>\n  children: (state: ScrollSceneChildProps) => ReactNode\n  margin?: number\n  inViewportMargin?: string\n  inViewportThreshold?: number\n  visible?: boolean\n  hideOffscreen?: boolean\n  scissor?: boolean\n  debug?: boolean\n  as?: string\n  priority?: number\n}\n\n/**\n * Generic THREE.js Scene that tracks the dimensions and position of a DOM element while scrolling\n * Scene is positioned and scaled exactly above DOM element\n *\n * @author david@14islands.com\n */\nconst ScrollSceneImpl = ({\n  track,\n  children,\n  margin = 0, // Margin outside scissor to avoid clipping vertex displacement (px)\n  inViewportMargin,\n  inViewportThreshold,\n  visible = true,\n  hideOffscreen = true,\n  scissor = false,\n  debug = false,\n  as = 'scene',\n  priority = config.PRIORITY_SCISSORS,\n  ...props\n}: ScrollScene) => {\n  const inlineSceneRef = useCallback((node: any) => {\n    if (node !== null) {\n      setScene(node)\n    }\n  }, [])\n\n  const [scene, setScene] = useState<Scene | null>(scissor ? new Scene() : null)\n  const { requestRender, renderScissor } = useScrollRig()\n  const globalRender = useCanvasStore((state) => state.globalRender)\n\n  const { bounds, scale, position, scrollState, inViewport } = useTracker(track, {\n    rootMargin: inViewportMargin,\n    threshold: inViewportThreshold,\n  })\n\n  // Hide scene when outside of viewport if `hideOffscreen` or set to `visible` prop\n  useLayoutEffect(() => {\n    if (scene) scene.visible = hideOffscreen ? inViewport && visible : visible\n  }, [scene, inViewport, hideOffscreen, visible])\n\n  // RENDER FRAME\n  useFrame(\n    ({ gl, camera }) => {\n      if (!scene) return\n\n      if (scene.visible) {\n        // move scene\n        scene.position.y = position.y\n        scene.position.x = position.x\n\n        if (scissor) {\n          renderScissor({\n            gl,\n            scene,\n            camera,\n            left: bounds.left - margin,\n            top: bounds.positiveYUpBottom - margin,\n            width: bounds.width + margin * 2,\n            height: bounds.height + margin * 2,\n          })\n        } else {\n          requestRender()\n        }\n      }\n    },\n    globalRender ? priority : undefined\n  )\n\n  const content = (\n    <>\n      {(!children || debug) && scale && <DebugMesh scale={scale} />}\n      {children &&\n        scene &&\n        scale &&\n        children({\n          // inherited props\n          track,\n          margin,\n          // new props\n          scale,\n          scrollState,\n          inViewport,\n          // useFrame render priority (in case children need to run after)\n          priority: priority,\n          // tunnel the rest\n          ...props,\n        })}\n    </>\n  )\n\n  // portal if scissor or inline nested scene\n  const InlineElement: any = as\n  // @ts-ignore\n  return scissor && scene ? createPortal(content, scene) : <InlineElement ref={inlineSceneRef}>{content}</InlineElement>\n}\n\nconst ScrollScene = memo(ScrollSceneImpl)\n\nexport { ScrollScene }\n","import React, { memo, useEffect, useState, useCallback, MutableRefObject, ReactNode } from 'react'\nimport { Scene } from 'three'\nimport { useFrame, createPortal, useThree } from '@react-three/fiber'\n\nimport { useLayoutEffect } from '../hooks/useIsomorphicLayoutEffect'\nimport { config } from '../config'\nimport { useScrollRig } from '../hooks/useScrollRig'\nimport { DebugMesh } from './DebugMesh'\nimport { useTracker } from '../hooks/useTracker'\nimport type { Tracker } from '../hooks/useTrackerTypes'\nimport { PerspectiveCamera } from './PerspectiveCamera'\nimport { OrthographicCamera } from './OrthographicCamera'\n\nimport type { ScrollSceneChildProps } from './ScrollScene'\n\ninterface ViewportScrollScene {\n  track: MutableRefObject<HTMLElement>\n  children: (state: ScrollSceneChildProps) => ReactNode\n  margin?: number\n  inViewportMargin?: string\n  inViewportThreshold?: number\n  visible?: boolean\n  hideOffscreen?: boolean\n  debug?: boolean\n  orthographic?: boolean\n  priority?: number\n  hud?: boolean // clear depth to render on top\n  camera?: any\n}\n\n/**\n * Generic THREE.js Scene that tracks the dimensions and position of a DOM element while scrolling\n * Scene is rendered into a GL viewport matching the DOM position for better performance\n *\n * Adapted to @react-three/fiber from https://threejsfundamentals.org/threejs/lessons/threejs-multiple-scenes.html\n * @author david@14islands.com\n */\nconst Viewport = ({\n  track,\n  children,\n  margin = 0, // Margin outside viewport to avoid clipping vertex displacement (px)\n  visible = true,\n  hideOffscreen = true,\n  debug = false,\n  orthographic = false,\n  priority = config.PRIORITY_VIEWPORTS,\n  inViewport,\n  bounds,\n  scale,\n  scrollState,\n  camera,\n  hud,\n  ...props\n}: ViewportScrollScene & Tracker) => {\n  const scene = useThree((s) => s.scene)\n  const get = useThree((state) => state.get)\n  const setEvents = useThree((state) => state.setEvents)\n\n  const { renderViewport } = useScrollRig()\n\n  // Hide scene when outside of viewport if `hideOffscreen` or set to `visible` prop\n  useLayoutEffect(() => {\n    scene.visible = hideOffscreen ? inViewport && visible : visible\n  }, [inViewport, hideOffscreen, visible])\n\n  // From: https://github.com/pmndrs/drei/blob/d22fe0f58fd596c7bfb60a7a543cf6c80da87624/src/web/View.tsx#L80\n  useEffect(() => {\n    // Connect the event layer to the tracking element\n    const old = get().events.connected\n    setEvents({ connected: track.current })\n    return () => setEvents({ connected: old })\n  }, [])\n\n  // RENDER FRAME\n  useFrame(({ gl, scene, camera }) => {\n    // Render scene to viewport using local camera and limit updates using scissor test\n    if (scene.visible) {\n      renderViewport({\n        gl,\n        scene,\n        camera,\n        left: bounds.left - margin,\n        top: bounds.positiveYUpBottom - margin,\n        width: bounds.width + margin * 2,\n        height: bounds.height + margin * 2,\n        clearDepth: !!hud,\n      })\n    }\n  }, priority)\n\n  return (\n    <>\n      {!orthographic && <PerspectiveCamera manual margin={margin} makeDefault {...camera} />}\n      {orthographic && <OrthographicCamera manual margin={margin} makeDefault {...camera} />}\n      {(!children || debug) && scale && <DebugMesh scale={scale} />}\n      {children &&\n        // scene &&\n        scale &&\n        children({\n          // inherited props\n          track,\n          margin,\n          // new props\n          scale,\n          scrollState,\n          inViewport,\n          // useFrame render priority (in case children need to run after)\n          priority,\n          // tunnel the rest\n          ...props,\n        })}\n    </>\n  )\n}\n\nfunction ViewportScrollSceneImpl({\n  track,\n  margin = 0, // Margin outside viewport to avoid clipping vertex displacement (px)\n  inViewportMargin,\n  inViewportThreshold,\n  priority,\n  ...props\n}: ViewportScrollScene) {\n  const [scene] = useState(() => new Scene())\n\n  const { bounds, ...trackerProps } = useTracker(track, {\n    rootMargin: inViewportMargin,\n    threshold: inViewportThreshold,\n  })\n\n  // From: https://github.com/pmndrs/drei/blob/d22fe0f58fd596c7bfb60a7a543cf6c80da87624/src/web/View.tsx#L80\n  const compute = useCallback(\n    (event: any, state: any) => {\n      // limit events to DOM element bounds\n      if (track.current && event.target === track.current) {\n        const { width, height, left, top } = bounds\n        const mWidth = width + margin * 2\n        const mHeight = height + margin * 2\n        const x = event.clientX - left + margin\n        const y = event.clientY - top + margin\n        state.pointer.set((x / mWidth) * 2 - 1, -(y / mHeight) * 2 + 1)\n        state.raycaster.setFromCamera(state.pointer, state.camera)\n      }\n    },\n    [bounds]\n  )\n\n  return (\n    bounds &&\n    createPortal(\n      <Viewport track={track} bounds={bounds} priority={priority} margin={margin} {...props} {...trackerProps} />,\n      scene,\n      // @ts-ignore\n      { events: { compute, priority }, size: { width: bounds.width, height: bounds.height } }\n    )\n  )\n}\n\nconst ViewportScrollScene = memo(ViewportScrollSceneImpl)\n\nexport { ViewportScrollScene }\n","import { forwardRef, ReactNode } from 'react'\nimport { useCanvas } from '../hooks/useCanvas'\n\nimport { ScrollRigState } from '../hooks/useScrollRig'\n\ninterface IUseCanvas {\n  children: ReactNode | ((props: ScrollRigState) => ReactNode)\n  id?: string // persistent layout id\n  dispose?: boolean // dispose on unmount\n  [key: string]: any // Any props to reactively tunnel to the child\n}\n\nconst UseCanvas = forwardRef(({ children, id, dispose = true, ...props }: IUseCanvas, ref) => {\n  if (!children) return null\n  // auto update canvas with all props\n  useCanvas(children, { ...props, ref }, { key: id, dispose })\n  return null\n})\n\nexport { UseCanvas }\n","function shallowEqualArrays(arrA, arrB, equal = (a, b) => a === b) {\n  if (arrA === arrB) return true;\n  if (!arrA || !arrB) return false;\n  const len = arrA.length;\n  if (arrB.length !== len) return false;\n\n  for (let i = 0; i < len; i++) if (!equal(arrA[i], arrB[i])) return false;\n\n  return true;\n}\n\nconst globalCache = [];\n\nfunction query(fn, keys, preload = false, config = {}) {\n  for (const entry of globalCache) {\n    // Find a match\n    if (shallowEqualArrays(keys, entry.keys, entry.equal)) {\n      // If we're pre-loading and the element is present, just return\n      if (preload) return undefined; // If an error occurred, throw\n\n      if (Object.prototype.hasOwnProperty.call(entry, 'error')) throw entry.error; // If a response was successful, return\n\n      if (Object.prototype.hasOwnProperty.call(entry, 'response')) return entry.response; // If the promise is still unresolved, throw\n\n      if (!preload) throw entry.promise;\n    }\n  } // The request is new or has changed.\n\n\n  const entry = {\n    keys,\n    equal: config.equal,\n    promise: // Execute the promise\n    fn(...keys) // When it resolves, store its value\n    .then(response => entry.response = response) // Remove the entry if a lifespan was given\n    .then(() => {\n      if (config.lifespan && config.lifespan > 0) {\n        setTimeout(() => {\n          const index = globalCache.indexOf(entry);\n          if (index !== -1) globalCache.splice(index, 1);\n        }, config.lifespan);\n      }\n    }) // Store caught errors, they will be thrown in the render-phase to bubble into an error-bound\n    .catch(error => entry.error = error)\n  }; // Register the entry\n\n  globalCache.push(entry); // And throw the promise, this yields control back to React\n\n  if (!preload) throw entry.promise;\n  return undefined;\n}\n\nconst suspend = (fn, keys, config) => query(fn, keys, false, config);\n\nconst preload = (fn, keys, config) => void query(fn, keys, true, config);\n\nconst peek = keys => {\n  var _globalCache$find;\n\n  return (_globalCache$find = globalCache.find(entry => shallowEqualArrays(keys, entry.keys, entry.equal))) == null ? void 0 : _globalCache$find.response;\n};\n\nconst clear = keys => {\n  if (keys === undefined || keys.length === 0) globalCache.splice(0, globalCache.length);else {\n    const entry = globalCache.find(entry => shallowEqualArrays(keys, entry.keys, entry.equal));\n\n    if (entry) {\n      const index = globalCache.indexOf(entry);\n      if (index !== -1) globalCache.splice(index, 1);\n    }\n  }\n};\n\nexport { clear, peek, preload, suspend };\n","import { useEffect, useMemo, useCallback, ReactNode } from 'react'\nimport { MathUtils } from 'three'\n\nimport { useCanvasStore } from '../store'\nimport { useLayoutEffect } from '../hooks/useIsomorphicLayoutEffect'\n\nimport { ScrollRigState } from '../hooks/useScrollRig'\n/**\n * Adds THREE.js object to the GlobalCanvas while the component is mounted\n * @param {object} object THREE.js object3d\n */\nfunction useCanvas(\n  object: ReactNode | ((props: ScrollRigState) => ReactNode),\n  deps: any = {},\n  { key, dispose = true }: { key?: string; dispose?: boolean } = {}\n) {\n  const updateCanvas = useCanvasStore((state) => state.updateCanvas)\n  const renderToCanvas = useCanvasStore((state) => state.renderToCanvas)\n  const removeFromCanvas = useCanvasStore((state) => state.removeFromCanvas)\n\n  // auto generate uuid v4 key\n  const uniqueKey = useMemo(() => key || MathUtils.generateUUID(), [])\n\n  // render to canvas if not mounted already\n  useLayoutEffect(() => {\n    renderToCanvas(uniqueKey, object, { inactive: false })\n  }, [uniqueKey])\n\n  // remove from canvas if no usage (after render so new users have time to register)\n  useEffect(() => {\n    return () => {\n      removeFromCanvas(uniqueKey, dispose)\n    }\n  }, [uniqueKey])\n\n  // return function that can set new props on the canvas component\n  const set = useCallback(\n    (props: any) => {\n      updateCanvas(uniqueKey, props)\n    },\n    [updateCanvas, uniqueKey]\n  )\n\n  // auto update props when deps change\n  useEffect(() => {\n    set(deps)\n  }, [...Object.values(deps)])\n\n  return set\n}\n\nexport { useCanvas }\n","export default new Promise(resolve => {\n\tconst image = new Image();\n\timage.addEventListener('error', () => resolve(false));\n\timage.addEventListener('load', () => resolve(image.width === 1));\n\timage.src = 'data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=';\n}).catch(() => false);\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import { useEffect, RefObject, useMemo, useState } from 'react'\nimport { useThree, useLoader } from '@react-three/fiber'\nimport { Texture, CanvasTexture, ImageBitmapLoader, TextureLoader, DefaultLoadingManager } from 'three'\nimport { suspend } from 'suspend-react'\nimport supportsWebP from 'supports-webp'\nimport equal from 'fast-deep-equal'\n\nimport { useWindowSize } from './useWindowSize'\nimport { useCanvasStore } from '../store'\n\n/**\n *  Create Threejs Texture from DOM image tag\n *\n *  - Supports <picture> and `srcset` - uses `currentSrc` to get the responsive image source\n *\n *  - Supports lazy-loading image - suspends until first load event. Warning: the GPU upload can cause jank\n *\n *  - Relies on browser cache to avoid loading image twice. We let the <img> tag load the image and suspend until it's ready.\n *\n *  - NOTE: You must add the `crossOrigin` attribute\n *     <img src=\"\" alt=\"\" crossOrigin=\"anonymous\"/>\n */\n\nlet hasWebpSupport: boolean = false\n// this test is fast - \"should\" run before first image is requested\nsupportsWebP.then((supported) => {\n  hasWebpSupport = supported\n})\n\nfunction useTextureLoader() {\n  // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n  // expensive work of uploading a texture to the GPU off the main thread.\n  // Copied from: github.com/mrdoob/three.js/blob/master/examples/jsm/loaders/GLTFLoader.js#L2424\n  const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent) === true\n  const isFirefox = navigator.userAgent.indexOf('Firefox') > -1\n  // @ts-ignore\n  const firefoxVersion = isFirefox ? navigator.userAgent.match(/Firefox\\/([0-9]+)\\./)[1] : -1\n  return typeof createImageBitmap === 'undefined' || isSafari || (isFirefox && firefoxVersion < 98)\n}\n\nfunction useImageAsTexture(\n  imgRef: RefObject<HTMLImageElement>,\n  { initTexture = true, premultiplyAlpha = 'default' } = {}\n) {\n  const gl = useThree((s) => s.gl)\n  const size = useWindowSize()\n  const debug = useCanvasStore((state) => state.debug)\n\n  // This is a workaround for detecting lazy loading images\n  // unfortunately the `loadstart`event is not working everywhere: https://bugs.chromium.org/p/chromium/issues/detail?id=458851\n  // So we can't suspend while lazy images are loading - only detect when they finished\n  const [newSrcDetected, setNewSrcDetected] = useState(imgRef.current?.currentSrc)\n  useEffect(() => {\n    const el = imgRef.current\n    const onLoad = () => {\n      setNewSrcDetected(imgRef.current?.currentSrc)\n    }\n    el?.addEventListener('load', onLoad)\n    return () => el?.removeEventListener('load', onLoad)\n  }, [imgRef, newSrcDetected, setNewSrcDetected])\n\n  // suspend until we have currentSrc for this `size`\n  const currentSrc = suspend(\n    () => {\n      DefaultLoadingManager.itemStart('waiting for DOM image')\n      return new Promise((resolve) => {\n        const el = imgRef.current\n\n        function returnResolve() {\n          resolve(el?.currentSrc)\n          DefaultLoadingManager.itemEnd('waiting for DOM image')\n        }\n\n        // respond to future load event if not cached\n        el?.addEventListener('load', returnResolve, { once: true })\n\n        // detect if loaded from browser cache\n        if (el?.complete) {\n          el?.removeEventListener('load', returnResolve)\n          returnResolve()\n        }\n      })\n    },\n    [imgRef, size, imgRef.current?.currentSrc, newSrcDetected],\n    { equal } // use deep-equal since size ref seems to update on route change\n  ) as string\n\n  const LoaderProto = useTextureLoader() ? TextureLoader : ImageBitmapLoader\n\n  // @ts-ignore\n  const result: any = useLoader(LoaderProto, currentSrc, (loader) => {\n    if (loader instanceof ImageBitmapLoader) {\n      loader.setOptions({\n        colorSpaceConversion: 'none',\n        premultiplyAlpha, // \"none\" increases blocking time in lighthouse\n        imageOrientation: 'flipY',\n      })\n      // Add webp to Accept header if supported\n      // TODO: add check for AVIF\n      loader.setRequestHeader({\n        Accept: `${hasWebpSupport ? 'image/webp,' : ''}*/*`,\n      })\n    }\n  })\n\n  const texture = useMemo(() => {\n    if (result instanceof Texture) {\n      return result\n    }\n    if (result instanceof ImageBitmap) {\n      return new CanvasTexture(result)\n    }\n  }, [result]) as Texture\n\n  // https://github.com/mrdoob/three.js/issues/22696\n  // Upload the texture to the GPU immediately instead of waiting for the first render\n  useEffect(\n    function uploadTextureToGPU() {\n      initTexture && gl.initTexture(texture)\n      debug && console.log('useImageAsTexture', 'initTexture()')\n    },\n    [gl, texture, initTexture]\n  )\n\n  return texture\n}\n\nexport { useImageAsTexture }\n","function t(){return t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},t.apply(this,arguments)}function e(t,e,i){return Math.max(t,Math.min(e,i))}class i{advance(t){var i;if(!this.isRunning)return;let s=!1;if(this.lerp)this.value=(1-(o=this.lerp))*this.value+o*this.to,Math.round(this.value)===this.to&&(this.value=this.to,s=!0);else{this.currentTime+=t;const i=e(0,this.currentTime/this.duration,1);s=i>=1;const o=s?1:this.easing(i);this.value=this.from+(this.to-this.from)*o}var o;null==(i=this.onUpdate)||i.call(this,this.value,{completed:s}),s&&this.stop()}stop(){this.isRunning=!1}fromTo(t,e,{lerp:i=.1,duration:s=1,easing:o=(t=>t),onUpdate:n}){this.from=this.value=t,this.to=e,this.lerp=i,this.duration=s,this.easing=o,this.currentTime=0,this.isRunning=!0,this.onUpdate=n}}function s(t,e){let i;return function(){let s=arguments,o=this;clearTimeout(i),i=setTimeout(function(){t.apply(o,s)},e)}}class o{constructor(t,e){this.onWindowResize=()=>{this.width=window.innerWidth,this.height=window.innerHeight},this.onWrapperResize=()=>{this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight},this.onContentResize=()=>{const t=this.wrapper===window?document.documentElement:this.wrapper;this.scrollHeight=t.scrollHeight,this.scrollWidth=t.scrollWidth},this.wrapper=t,this.content=e,this.wrapper===window?(window.addEventListener(\"resize\",this.onWindowResize,!1),this.onWindowResize()):(this.wrapperResizeObserver=new ResizeObserver(s(this.onWrapperResize,100)),this.wrapperResizeObserver.observe(this.wrapper),this.onWrapperResize()),this.contentResizeObserver=new ResizeObserver(s(this.onContentResize,100)),this.contentResizeObserver.observe(this.content),this.onContentResize()}destroy(){var t,e;window.removeEventListener(\"resize\",this.onWindowResize,!1),null==(t=this.wrapperResizeObserver)||t.disconnect(),null==(e=this.contentResizeObserver)||e.disconnect()}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}let n=()=>({events:{},emit(t,...e){let i=this.events[t]||[];for(let t=0,s=i.length;t<s;t++)i[t](...e)},on(t,e){var i;return(null==(i=this.events[t])?void 0:i.push(e))||(this.events[t]=[e]),()=>{var i;this.events[t]=null==(i=this.events[t])?void 0:i.filter(t=>e!==t)}}});class r{constructor(t,{wheelMultiplier:i=1,touchMultiplier:s=2,normalizeWheel:o=!1}){this.onTouchStart=t=>{const{clientX:e,clientY:i}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=e,this.touchStart.y=i,this.lastDelta={x:0,y:0}},this.onTouchMove=t=>{const{clientX:e,clientY:i}=t.targetTouches?t.targetTouches[0]:t,s=-(e-this.touchStart.x)*this.touchMultiplier,o=-(i-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=e,this.touchStart.y=i,this.lastDelta={x:s,y:o},this.emitter.emit(\"scroll\",{type:\"touch\",deltaX:s,deltaY:o,event:t})},this.onTouchEnd=t=>{this.emitter.emit(\"scroll\",{type:\"touch\",inertia:!0,deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})},this.onWheel=t=>{let{deltaX:i,deltaY:s}=t;this.normalizeWheel&&(i=e(-100,i,100),s=e(-100,s,100)),i*=this.wheelMultiplier,s*=this.wheelMultiplier,this.emitter.emit(\"scroll\",{type:\"wheel\",deltaX:i,deltaY:s,event:t})},this.element=t,this.wheelMultiplier=i,this.touchMultiplier=s,this.normalizeWheel=o,this.touchStart={x:null,y:null},this.emitter=n(),this.element.addEventListener(\"wheel\",this.onWheel,{passive:!1}),this.element.addEventListener(\"touchstart\",this.onTouchStart,{passive:!1}),this.element.addEventListener(\"touchmove\",this.onTouchMove,{passive:!1}),this.element.addEventListener(\"touchend\",this.onTouchEnd,{passive:!1})}on(t,e){return this.emitter.on(t,e)}destroy(){this.emitter.events={},this.element.removeEventListener(\"wheel\",this.onWheel,{passive:!1}),this.element.removeEventListener(\"touchstart\",this.onTouchStart,{passive:!1}),this.element.removeEventListener(\"touchmove\",this.onTouchMove,{passive:!1}),this.element.removeEventListener(\"touchend\",this.onTouchEnd,{passive:!1})}}class l{constructor({direction:e,gestureDirection:s,mouseMultiplier:l,smooth:h,wrapper:a=window,content:c=document.documentElement,wheelEventsTarget:u=a,smoothWheel:p=null==h||h,smoothTouch:d=!1,syncTouch:m=!1,syncTouchLerp:v=.1,touchInertiaMultiplier:g=35,duration:S,easing:w=(t=>Math.min(1,1.001-Math.pow(2,-10*t))),lerp:f=(S?null:.1),infinite:y=!1,orientation:T=(null!=e?e:\"vertical\"),gestureOrientation:z=(null!=s?s:\"vertical\"),touchMultiplier:M=1,wheelMultiplier:E=(null!=l?l:1),normalizeWheel:L=!1}={}){this.onVirtualScroll=({type:e,inertia:i,deltaX:s,deltaY:o,event:n})=>{if(n.ctrlKey)return;const r=\"touch\"===e,l=\"wheel\"===e;if(\"vertical\"===this.options.gestureOrientation&&0===o||\"horizontal\"===this.options.gestureOrientation&&0===s||r&&\"vertical\"===this.options.gestureOrientation&&0===this.scroll&&!this.options.infinite&&o<=0)return;if(n.composedPath().find(t=>null==t||null==t.hasAttribute?void 0:t.hasAttribute(\"data-lenis-prevent\")))return;if(this.isStopped||this.isLocked)return void n.preventDefault();if(this.isSmooth=(this.options.smoothTouch||this.options.syncTouch)&&r||this.options.smoothWheel&&l,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();n.preventDefault();let h=o;\"both\"===this.options.gestureOrientation?h=Math.abs(o)>Math.abs(s)?o:s:\"horizontal\"===this.options.gestureOrientation&&(h=s);const a=r&&this.options.syncTouch,c=r&&i&&Math.abs(h)>1;c&&(h=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+h,t({programmatic:!1},a&&{lerp:c?this.syncTouchLerp:.4}))},this.onScroll=()=>{if(!this.isScrolling){const t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-t),this.emit()}},e&&console.warn(\"Lenis: `direction` option is deprecated, use `orientation` instead\"),s&&console.warn(\"Lenis: `gestureDirection` option is deprecated, use `gestureOrientation` instead\"),l&&console.warn(\"Lenis: `mouseMultiplier` option is deprecated, use `wheelMultiplier` instead\"),h&&console.warn(\"Lenis: `smooth` option is deprecated, use `smoothWheel` instead\"),window.lenisVersion=\"1.0.10\",a!==document.documentElement&&a!==document.body||(a=window),this.options={wrapper:a,content:c,wheelEventsTarget:u,smoothWheel:p,smoothTouch:d,syncTouch:m,syncTouchLerp:v,touchInertiaMultiplier:g,duration:S,easing:w,lerp:f,infinite:y,gestureOrientation:z,orientation:T,touchMultiplier:M,wheelMultiplier:E,normalizeWheel:L},this.dimensions=new o(a,c),this.rootElement.classList.add(\"lenis\"),this.velocity=0,this.isStopped=!1,this.isSmooth=p||d,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.animate=new i,this.emitter=n(),this.options.wrapper.addEventListener(\"scroll\",this.onScroll,{passive:!1}),this.virtualScroll=new r(u,{touchMultiplier:M,wheelMultiplier:E,normalizeWheel:L}),this.virtualScroll.on(\"scroll\",this.onVirtualScroll)}destroy(){this.emitter.events={},this.options.wrapper.removeEventListener(\"scroll\",this.onScroll,{passive:!1}),this.virtualScroll.destroy()}on(t,e){return this.emitter.on(t,e)}off(t,e){var i;this.emitter.events[t]=null==(i=this.emitter.events[t])?void 0:i.filter(t=>e!==t)}setScroll(t){this.isHorizontal?this.rootElement.scrollLeft=t:this.rootElement.scrollTop=t}emit(){this.emitter.emit(\"scroll\",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.velocity=0,this.animate.stop()}start(){this.isStopped=!1,this.reset()}stop(){this.isStopped=!0,this.animate.stop(),this.reset()}raf(t){const e=t-(this.time||t);this.time=t,this.animate.advance(.001*e)}scrollTo(t,{offset:i=0,immediate:s=!1,lock:o=!1,duration:n=this.options.duration,easing:r=this.options.easing,lerp:l=!n&&this.options.lerp,onComplete:h=null,force:a=!1,programmatic:c=!0}={}){if(!this.isStopped||a){if([\"top\",\"left\",\"start\"].includes(t))t=0;else if([\"bottom\",\"right\",\"end\"].includes(t))t=this.limit;else{var u;let e;if(\"string\"==typeof t?e=document.querySelector(t):null!=(u=t)&&u.nodeType&&(e=t),e){if(this.options.wrapper!==window){const t=this.options.wrapper.getBoundingClientRect();i-=this.isHorizontal?t.left:t.top}const s=e.getBoundingClientRect();t=(this.isHorizontal?s.left:s.top)+this.animatedScroll}}if(\"number\"==typeof t){if(t+=i,this.options.infinite?c&&(this.targetScroll=this.animatedScroll=this.scroll):t=e(0,t,this.limit),s)return this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.emit(),void(null==h||h());if(!c){if(t===this.targetScroll)return;this.targetScroll=t}this.animate.fromTo(this.animatedScroll,t,{duration:n,easing:r,lerp:l,onUpdate:(t,{completed:e})=>{o&&(this.isLocked=!0),this.isScrolling=!0,this.velocity=t-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=t,this.setScroll(this.scroll),c&&(this.targetScroll=t),e&&(o&&(this.isLocked=!1),requestAnimationFrame(()=>{this.isScrolling=!1}),this.velocity=0,null==h||h()),this.emit()}})}}}get rootElement(){return this.options.wrapper===window?this.options.content:this.options.wrapper}get limit(){return this.isHorizontal?this.dimensions.limit.x:this.dimensions.limit.y}get isHorizontal(){return\"horizontal\"===this.options.orientation}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?function(t,e){let i=t%e;return(e>0&&i<0||e<0&&i>0)&&(i+=e),i}(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return 0===this.limit?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(t){this.__isSmooth!==t&&(this.rootElement.classList.toggle(\"lenis-smooth\",t),this.__isSmooth=t)}get isScrolling(){return this.__isScrolling}set isScrolling(t){this.__isScrolling!==t&&(this.rootElement.classList.toggle(\"lenis-scrolling\",t),this.__isScrolling=t)}get isStopped(){return this.__isStopped}set isStopped(t){this.__isStopped!==t&&(this.rootElement.classList.toggle(\"lenis-stopped\",t),this.__isStopped=t)}}export{l as default};\n//# sourceMappingURL=lenis.modern.mjs.map\n","import { useEffect, useRef, useCallback, ReactElement, forwardRef, useImperativeHandle } from 'react'\nimport Lenis from '@studio-freight/lenis'\n\nimport { useLayoutEffect } from '../hooks/useIsomorphicLayoutEffect'\nimport { useCanvasStore } from '../store'\nimport { ISmoothScrollbar, ScrollCallback, ScrollToTarget, ScrollToConfig } from './SmoothScrollbarTypes'\n\nconst POINTER_EVENTS_ENABLE_VELOCITY = 1\nconst POINTER_EVENTS_DISABLE_VELOCITY = 1.5\n\nconst SmoothScrollbarImpl = (\n  {\n    children,\n    enabled = true,\n    locked = false,\n    scrollRestoration = 'auto',\n    disablePointerOnScroll = true,\n    horizontal = false,\n    scrollInContainer = false,\n    updateGlobalState = true,\n    onScroll,\n    config = {},\n    invalidate = () => {},\n    addEffect,\n  }: ISmoothScrollbar,\n  ref: any\n) => {\n  const innerRef = useRef<HTMLElement>()\n  const lenis = useRef<Lenis>()\n  const preventPointer = useRef(false)\n  const globalScrollState = useCanvasStore((s) => s.scroll)\n\n  // Expose lenis imperative API\n  useImperativeHandle(ref, () => ({\n    start: () => lenis.current?.start(),\n    stop: () => lenis.current?.stop(),\n    on: (event: string, cb: ScrollCallback) => lenis.current?.on(event, cb),\n    notify: () => lenis.current?.emit(), // backwards compatible\n    emit: () => lenis.current?.emit(),\n    scrollTo: (target: ScrollToTarget, props: ScrollToConfig) => lenis.current?.scrollTo(target, props),\n    raf: (time: number) => lenis.current?.raf(time),\n    __lenis: lenis.current,\n  }))\n\n  // disable pointer events while scrolling to avoid slow event handlers\n  const preventPointerEvents = useCallback(\n    (prevent: boolean) => {\n      if (!disablePointerOnScroll) return\n      if (innerRef.current && preventPointer.current !== prevent) {\n        preventPointer.current = prevent\n        innerRef.current.style.pointerEvents = prevent ? 'none' : 'auto'\n      }\n    },\n    [disablePointerOnScroll, innerRef, preventPointer]\n  )\n\n  // apply chosen scroll restoration\n  useLayoutEffect(() => {\n    if ('scrollRestoration' in window.history) {\n      window.history.scrollRestoration = scrollRestoration\n    }\n  }, [])\n\n  // INIT LENIS\n  useLayoutEffect(() => {\n    // Set up scroll containers - allows scrolling without resizing window on iOS/mobile\n    const html = document.documentElement\n    const wrapper = document.body\n    const content = document.body.firstElementChild\n\n    html.classList.toggle('ScrollRig-scrollHtml', scrollInContainer)\n    wrapper.classList.toggle('ScrollRig-scrollWrapper', scrollInContainer)\n\n    if (scrollInContainer) {\n      Object.assign(config, {\n        smoothTouch: true,\n        wrapper,\n        content,\n      })\n    }\n\n    lenis.current = new Lenis({\n      orientation: horizontal ? 'horizontal' : 'vertical',\n      ...config,\n    })\n\n    // let r3f drive the frameloop\n    let removeEffect: () => void\n    if (addEffect) {\n      removeEffect = addEffect((time: number) => lenis.current?.raf(time))\n    } else {\n      // manual animation frame\n      // TODO use framer motion / popmotion render loop?\n      let _raf: number\n      function raf(time: number) {\n        lenis.current?.raf(time)\n        _raf = requestAnimationFrame(raf)\n      }\n      _raf = requestAnimationFrame(raf)\n      removeEffect = () => cancelAnimationFrame(_raf)\n    }\n\n    return () => {\n      removeEffect()\n      lenis.current?.destroy()\n    }\n  }, [])\n\n  // BIND TO LENIS SCROLL EVENT\n  useLayoutEffect(() => {\n    const _onScroll = ({ scroll, limit, velocity, direction, progress }: any) => {\n      const y = !horizontal ? scroll : 0\n      const x = horizontal ? scroll : 0\n\n      // update global scroll store\n      if (updateGlobalState) {\n        globalScrollState.y = y\n        globalScrollState.x = x\n        globalScrollState.limit = limit\n        globalScrollState.velocity = velocity\n        globalScrollState.direction = direction\n        globalScrollState.progress = progress || 0 // avoid NaN from Lenis\n      }\n\n      if (Math.abs(velocity) > POINTER_EVENTS_DISABLE_VELOCITY) {\n        preventPointerEvents(true)\n      }\n      if (Math.abs(velocity) < POINTER_EVENTS_ENABLE_VELOCITY) {\n        preventPointerEvents(false)\n      }\n\n      onScroll && onScroll({ scroll, limit, velocity, direction, progress })\n\n      invalidate() // demand a R3F frame on scroll\n    }\n\n    lenis.current?.on('scroll', _onScroll)\n\n    // update global state\n    if (updateGlobalState) {\n      globalScrollState.scrollDirection = horizontal ? 'horizontal' : 'vertical'\n\n      // expose global scrollTo and onScroll function to subscribe to scroll events\n      useCanvasStore.setState({\n        scrollTo: (...args) => {\n          lenis.current?.scrollTo(...args)\n        },\n        onScroll: (cb: ScrollCallback) => {\n          lenis.current?.on('scroll', cb)\n          lenis.current?.emit() // send current scroll to new subscriber\n          return () => lenis.current?.off('scroll', cb)\n        },\n      })\n\n      // Set current scroll position on load in case reloaded further down\n      useCanvasStore.getState().scroll.y = window.scrollY\n      useCanvasStore.getState().scroll.x = window.scrollX\n    }\n\n    // fire our internal scroll callback to update globalState\n    lenis.current?.emit()\n    return () => {\n      lenis.current?.off('scroll', _onScroll)\n      // reset store\n      useCanvasStore.setState({\n        onScroll: () => () => {},\n        scrollTo: () => {},\n      })\n    }\n  }, [])\n\n  // Interaction events - invalidate R3F loop and enable pointer events\n  useLayoutEffect(() => {\n    const invalidateOnWheelEvent = () => invalidate()\n    const onPointerInteraction = () => preventPointerEvents(false)\n    window.addEventListener('pointermove', onPointerInteraction)\n    window.addEventListener('pointerdown', onPointerInteraction)\n    window.addEventListener('wheel', invalidateOnWheelEvent)\n    return () => {\n      window.removeEventListener('pointermove', onPointerInteraction)\n      window.removeEventListener('pointerdown', onPointerInteraction)\n      window.removeEventListener('wheel', invalidateOnWheelEvent)\n    }\n  }, [])\n\n  // Mark as enabled in global state\n  useEffect(() => {\n    if (updateGlobalState) {\n      document.documentElement.classList.toggle('js-smooth-scrollbar-enabled', enabled)\n      document.documentElement.classList.toggle('js-smooth-scrollbar-disabled', !enabled)\n      useCanvasStore.setState({ hasSmoothScrollbar: enabled })\n    }\n  }, [enabled])\n\n  useEffect(() => {\n    locked ? lenis.current?.stop() : lenis.current?.start()\n  }, [locked])\n\n  {\n    /* Use function child so we can spread props\n    - for instance disable pointer events while scrolling */\n  }\n  return children({ ref: innerRef })\n}\n\nexport const SmoothScrollbar = forwardRef<any, ISmoothScrollbar>(SmoothScrollbarImpl)\n","import React, { forwardRef } from 'react'\nimport { SmoothScrollbar } from '../scrollbar/SmoothScrollbar'\nimport { ISmoothScrollbar } from '../scrollbar/SmoothScrollbarTypes'\nimport { addEffect, invalidate } from '@react-three/fiber'\n\nfunction R3FSmoothScrollbar(props: ISmoothScrollbar, ref: any) {\n  return <SmoothScrollbar ref={ref} invalidate={invalidate} addEffect={addEffect} {...props} />\n}\n\nexport default forwardRef<any, ISmoothScrollbar>(R3FSmoothScrollbar)\n","import React, { useMemo, useEffect, ReactNode, MutableRefObject } from 'react'\nimport { Color, Material } from 'three'\nimport { useThree } from '@react-three/fiber'\nimport { Text } from '@react-three/drei'\n\nimport { useScrollRig } from '../src'\n\n/**\n * Returns a WebGL Troika text mesh styled as the source DOM element\n */\n\ninterface WebGLTextProps {\n  el: MutableRefObject<HTMLElement>\n  children?: ReactNode\n  material?: Material\n  scale?: any\n  font?: string\n  fontOffsetY?: number\n  fontOffsetX?: number\n  overrideEmissive?: boolean\n  color?: string\n}\n\nexport const WebGLText = ({\n  el,\n  children,\n  material,\n  scale,\n  font,\n  fontOffsetY = 0,\n  fontOffsetX = 0,\n  overrideEmissive = false,\n  color,\n  ...props\n}: WebGLTextProps) => {\n  const { size } = useThree()\n  const { scaleMultiplier } = useScrollRig()\n\n  const { textColor, fontSize, textAlign, lineHeight, letterSpacing } = useMemo(() => {\n    if (!el.current) return {}\n    const cs = window.getComputedStyle(el.current)\n\n    // font size relative letter spacing\n    const letterSpacing = (parseFloat(cs.letterSpacing) || 0) / parseFloat(cs.fontSize)\n    const lineHeight = (parseFloat(cs.lineHeight) || 0) / parseFloat(cs.fontSize)\n    const textColor = new Color(color || cs.color).convertSRGBToLinear()\n\n    return {\n      letterSpacing,\n      lineHeight,\n      textColor,\n      fontSize: parseFloat(cs.fontSize) * scaleMultiplier,\n      textAlign: cs.textAlign,\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [el, size, scale, color, scaleMultiplier]) // recalc on resize\n\n  useEffect(() => {\n    if (material && overrideEmissive) {\n      // @ts-ignore\n      material.emissive = color\n    }\n  }, [material, color, overrideEmissive])\n\n  let xOffset = 0\n  if (textAlign === 'left' || textAlign === 'start') {\n    xOffset = scale[0] * -0.5\n  } else if (textAlign === 'right' || textAlign === 'end') {\n    xOffset = scale[0] * 0.5\n  }\n\n  const yOffset = scale ? scale[1] * 0.5 : size.height * 0.5\n\n  return (\n    <Text\n      fontSize={fontSize}\n      maxWidth={scale ? scale[0] : size.width}\n      lineHeight={lineHeight}\n      // @ts-ignore\n      textAlign={textAlign}\n      letterSpacing={letterSpacing}\n      overflowWrap=\"break-word\"\n      font={font}\n      color={textColor}\n      // @ts-ignore\n      anchorX={textAlign}\n      anchorY=\"top\" // so text moves down if row breaks\n      // @ts-ignore\n      position={[xOffset + fontSize * fontOffsetX, yOffset + fontSize * fontOffsetY, 0]} // font specific\n      material={material}\n      {...props}\n    >\n      {children}\n    </Text>\n  )\n}\n","import React, {\n  useRef,\n  useMemo,\n  useEffect,\n  forwardRef,\n  MutableRefObject,\n  ForwardedRef,\n  useImperativeHandle,\n} from 'react'\nimport { Color, Vector2, ShaderMaterial, Mesh, ShaderMaterialParameters } from 'three'\nimport { useFrame, useThree } from '@react-three/fiber'\n\nimport { useScrollRig, useImageAsTexture, useScrollbar } from '../src'\n\ninterface WebGLImageProps {\n  el: MutableRefObject<HTMLImageElement>\n  scale?: any\n  scrollState?: any\n  vertexShader?: string\n  fragmentShader?: string\n  invalidateFrameLoop: boolean\n  widthSegments?: number\n  heightSegments?: number\n}\n\nexport const WebGLImage = forwardRef(\n  (\n    {\n      el,\n      scale,\n      scrollState,\n      vertexShader,\n      fragmentShader,\n      invalidateFrameLoop = false,\n      widthSegments = 128,\n      heightSegments = 128,\n      ...props\n    }: WebGLImageProps,\n    ref: ForwardedRef<Mesh>\n  ) => {\n    const material = useRef<ShaderMaterial>(null!)\n    const mesh = useRef<Mesh>(null!)\n    useImperativeHandle(ref, () => mesh.current)\n\n    const { invalidate, gl, size } = useThree()\n    const pixelRatio = useThree((s) => s.viewport.dpr)\n    const { scroll } = useScrollbar()\n    const { scaleMultiplier } = useScrollRig()\n\n    const texture = useImageAsTexture(el)\n\n    const uniforms = useMemo(() => {\n      return {\n        u_color: { value: new Color('black') },\n        u_time: { value: 0 },\n        u_pixelRatio: { value: pixelRatio },\n        u_progress: { value: 0 },\n        u_visibility: { value: 0 },\n        u_viewport: { value: 0 },\n        u_velocity: { value: 0 }, // scroll speed\n        u_res: { value: new Vector2() }, // screen dimensions\n        u_rect: { value: new Vector2() }, // DOM el dimensions\n        u_size: { value: new Vector2() }, // Texture dimensions\n        u_texture: { value: null },\n        u_loaded: { value: false },\n        u_scaleMultiplier: { value: scaleMultiplier },\n      }\n    }, [pixelRatio])\n\n    // Fade in when texture loaded\n    useEffect(() => {\n      if (!texture) return\n      if (!material.current) return\n      material.current.uniforms.u_texture.value = texture\n      material.current.uniforms.u_size.value.set(texture.image.width, texture.image.height)\n      material.current.uniforms.u_loaded.value = true\n    }, [texture, gl])\n\n    useEffect(() => {\n      if (!material.current) return\n      material.current.uniforms.u_res.value.set(size.width, size.height)\n      material.current.uniforms.u_rect.value.set(scale?.[0], scale?.[1])\n    }, [size, scale])\n\n    useFrame((_, delta) => {\n      if (!scrollState.inViewport || !mesh.current || !material.current) return\n\n      if (!material.current.uniforms.u_loaded.value) return\n\n      material.current.uniforms.u_time.value += delta\n\n      // update scale while animating too\n      material.current.uniforms.u_rect.value.set(mesh.current.scale.x, mesh.current.scale.y)\n\n      // px velocity\n      material.current.uniforms.u_velocity.value = scroll.velocity\n\n      // percent of total visible distance that was scrolled (0 = just outside bottom of screen, 1 = just outside top of screen)\n      material.current.uniforms.u_progress.value = scrollState.progress\n\n      // percent of item height in view\n      material.current.uniforms.u_visibility.value = scrollState.visibility\n      // percent of window height scrolled since visible\n      material.current.uniforms.u_viewport.value = scrollState.viewport\n\n      if (invalidateFrameLoop) invalidate()\n    })\n\n    const args = useMemo(\n      () => [\n        {\n          vertexShader,\n          fragmentShader,\n        },\n      ],\n      [vertexShader, fragmentShader]\n    )\n\n    return (\n      <>\n        <mesh ref={mesh} {...props}>\n          <planeGeometry attach=\"geometry\" args={[1, 1, widthSegments, heightSegments]} />\n          <shaderMaterial\n            ref={material}\n            args={args as [ShaderMaterialParameters]}\n            transparent={true}\n            uniforms={uniforms}\n          />\n        </mesh>\n      </>\n    )\n  }\n)\n","import React, { useRef } from 'react'\nimport { useFrame, useThree } from '@react-three/fiber'\nimport { Mesh } from 'three'\n\nimport { ScrollScene, useScrollRig } from '../src'\n\n// Parallax group inside ScrollScene\nconst ParallaxGroup = ({ children, scrollState, parallax }: any) => {\n  const mesh = useRef<Mesh>(null!)\n  const size = useThree((s) => s.size)\n  const { scaleMultiplier } = useScrollRig()\n\n  useFrame(() => {\n    if (!scrollState.inViewport) return\n    const parallaxProgress = scrollState.progress * 2 - 1\n    mesh.current.position.y = parallax * parallaxProgress * scaleMultiplier * size.height\n  })\n\n  return <mesh ref={mesh}>{children}</mesh>\n}\n\n/* Speed=1 is no parallax */\nexport const ParallaxScrollScene = ({ children, speed = 1, ...props }: any) => {\n  const extraMargin = 50 // add 50vh extra margin to avoid aggressive clipping\n  const parallaxAmount = speed - 1\n  return (\n    // @ts-ignore\n    <ScrollScene scissor={false} inViewportMargin={`${Math.max(0, 1 - 0.5) * 200 + extraMargin}%`} {...props}>\n      {(props) => (\n        <ParallaxGroup parallax={parallaxAmount} {...props}>\n          {children(props)}\n        </ParallaxGroup>\n      )}\n    </ScrollScene>\n  )\n}\n","// https://www.typescriptlang.org/docs/handbook/modules.html#ambient-modules\n/// <reference path=\"../src/types/global.ts\" />\n\nimport React, { useRef, useMemo } from 'react'\nimport { useFrame, useThree } from '@react-three/fiber'\nimport { Group } from 'three'\nimport vecn from 'vecn'\n// @ts-ignore\nimport lerp from '@14islands/lerp'\n\nimport { ScrollScene, useScrollRig } from '../src'\n\n// Sticky mesh that covers full viewport size\nconst StickyChild = ({\n  children,\n  childTop,\n  childBottom,\n  scrollState,\n  parentScale,\n  childScale,\n  scaleMultiplier,\n  priority,\n  stickyLerp = 1.0,\n}: any) => {\n  const group = useRef<Group>(null!)\n  const size = useThree((s) => s.size)\n\n  useFrame((_, delta) => {\n    if (!scrollState.inViewport) return\n\n    const topOffset = (childTop / size.height) * scaleMultiplier\n    const bottomOffset = (childBottom / parentScale[1]) * scaleMultiplier\n\n    //  move to top of sticky area\n    const yTop = parentScale[1] * 0.5 - childScale[1] * 0.5\n    const yBottom = -parentScale[1] * 0.5 + childScale[1] * 0.5\n    const ySticky = -childTop + yTop - (scrollState.viewport - 1) * size.height * scaleMultiplier\n\n    let y = group.current.position.y\n\n    // enter\n    if (scrollState.viewport + topOffset < 1) {\n      y = yTop\n    }\n    // sticky\n    else if (scrollState.visibility - bottomOffset < 1) {\n      y = ySticky\n    }\n    // exit\n    else {\n      y = yBottom\n    }\n\n    group.current.position.y = lerp(group.current.position.y, y, stickyLerp, delta)\n  }, priority) // must happen after ScrollScene's useFrame to be buttery\n\n  return <group ref={group}>{children}</group>\n}\n\nconst renderAsSticky = (\n  children: any,\n  size: any,\n  childStyle: any,\n  scaleMultiplier: number,\n  { stickyLerp, fillViewport }: any\n) => {\n  return ({ scale, ...props }: any) => {\n    // set child's scale to 100vh/100vw instead of the full DOM el\n    // the DOM el should be taller to indicate how far the scene stays sticky\n    let childScale = vecn.vec3(parseFloat(childStyle.width), parseFloat(childStyle.height), 1)\n    let childTop = parseFloat(childStyle.top)\n    let childBottom = size.height - childTop - childScale[1]\n\n    if (fillViewport) {\n      childScale = vecn.vec3(size.width, size.height, 1)\n      childTop = 0\n      childBottom = 0\n    }\n\n    return (\n      // @ts-ignore\n      <StickyChild\n        parentScale={scale}\n        childScale={childScale.times(scaleMultiplier)}\n        stickyLerp={stickyLerp}\n        childTop={childTop}\n        childBottom={childBottom}\n        scaleMultiplier={scaleMultiplier}\n        {...props}\n      >\n        {children({ scale: childScale.times(scaleMultiplier), ...props })}\n      </StickyChild>\n    )\n  }\n}\n\nexport const StickyScrollScene = ({ children, track, stickyLerp, fillViewport, ...props }: any) => {\n  const size = useThree((s) => s.size)\n  const { scaleMultiplier } = useScrollRig()\n\n  const internalRef = useRef(track.current)\n\n  // if tracked element is position:sticky, track the parent instead\n  // we want to track the progress of the entire sticky area\n  const childStyle = useMemo(() => {\n    const style = getComputedStyle(track.current)\n    if (style.position === 'sticky') {\n      internalRef.current = track.current.parentElement\n    } else {\n      console.error('StickyScrollScene: tracked element is not position:sticky')\n    }\n    return style\n  }, [track])\n\n  return (\n    <ScrollScene track={internalRef} {...props}>\n      {renderAsSticky(children, size, childStyle, scaleMultiplier, { stickyLerp, fillViewport })}\n    </ScrollScene>\n  )\n}\n","const _lerp = require('lerp')\n\n/**\n * Drop-in replacement of standard lerp with optional frame delta and target fps\n * to maintain constant animation speed at various fps\n * \n * Based on http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\n * \n * @param {number} source Current value\n * @param {number} target Value to lerp towards\n * @param {number} rate Interpolation rate\n * @param {number} frameDelta Optional frame delta time in seconds. Should be 1/60 for a steady 60fps.\n * @param {number} targetFps Optional, target is 60 by default\n * @returns {number} interpolated value\n */\n\nfunction lerp(source, target, rate, frameDelta, targetFps = 60){\n  \n  // return normal lerp if no delta was passed\n  if (typeof frameDelta === 'undefined') {\n    return _lerp(source, target, rate)\n  }\n\n  const relativeDelta = frameDelta / (1 / targetFps)\n  const smoothing = 1 - rate\n  return _lerp(source, target, 1 - Math.pow(smoothing, relativeDelta));\n}\n\nmodule.exports = lerp","function lerp(v0, v1, t) {\n    return v0*(1-t)+v1*t\n}\nmodule.exports = lerp"],"names":["ResizeObserverBoxOptions","resizeObservers","msg","trigger","freeze","obj","Object","ResizeObserverSize","inlineSize","blockSize","this","DOMRectReadOnly","x","y","width","height","top","left","bottom","right","prototype","toJSON","_a","fromRect","rectangle","isSVG","target","SVGElement","isHidden","getBBox","offsetWidth","offsetHeight","getClientRects","length","isElement","Element","scope","ownerDocument","defaultView","global","window","cache","WeakMap","scrollRegexp","verticalRegexp","IE","test","navigator","userAgent","parseDimension","pixel","parseFloat","size","switchSizes","zeroBoxes","devicePixelContentBoxSize","borderBoxSize","contentBoxSize","contentRect","calculateBoxSizes","forceRecalculation","has","get","set","cs","getComputedStyle","svg","ownerSVGElement","removePadding","boxSizing","writingMode","canScrollVertically","overflowY","canScrollHorizontally","overflowX","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTop","borderTopWidth","borderRight","borderRightWidth","borderBottom","borderBottomWidth","horizontalPadding","verticalPadding","horizontalBorderArea","borderLeftWidth","verticalBorderArea","horizontalScrollbarThickness","clientHeight","verticalScrollbarThickness","clientWidth","widthReduction","heightReduction","contentWidth","contentHeight","borderBoxWidth","borderBoxHeight","boxes","Math","round","devicePixelRatio","calculateBoxSize","observedBox","DEVICE_PIXEL_CONTENT_BOX","BORDER_BOX","ResizeObserverEntry","calculateDepthForNode","node","Infinity","depth","parent","parentNode","broadcastActiveObservations","shallowestDepth","callbacks","forEach","ro","activeTargets","entries","ot","entry","targetDepth","push","lastReportedSize","callback","call","observer","splice","_i","callbacks_1","gatherActiveObservationsAtDepth","skippedTargets","observationTargets","isActive","watching","observerConfig","attributes","characterData","childList","subtree","events","time","timeout","Date","now","scheduled","scheduler","Scheduler","_this","stopped","listener","schedule","run","cb","until","elementsHaveResized","event","some","ErrorEvent","message","document","createEvent","initEvent","dispatchEvent","process","start","toggle_1","el_1","createTextNode","MutationObserver","observe","textContent","concat","requestAnimationFrame","queueMicroTask","stop","body","addEventListener","name","disconnect","removeEventListener","updateCount","n","ResizeObservation","CONTENT_BOX","tagName","type","isReplacedElement","display","ResizeObserverDetail","resizeObserver","observerMap","getObservationIndex","i","ResizeObserverController","connect","detail","options","firstObservation","box","unobserve","index","indexOf","slice","ResizeObserver","arguments","TypeError","toString","token","singleMatcher","RegExp","multiMatcher","decodeComponents","components","split","decodeURIComponent","join","err","Array","decode","input","tokens","match","decodeUriComponent","encodedURI","replace","replaceMap","exec","result","keys","key","customDecodeURIComponent","splitOnFirst","string","separator","separatorIndex","filterObj","predicate","ret","isArr","isArray","val","validateArrayFormatSeparator","value","encode","strict","encodeURIComponent","charCodeAt","toUpperCase","decodeComponent","keysSorter","sort","a","b","Number","map","removeHash","hashStart","extract","queryStart","parseValue","parseNumbers","isNaN","trim","parseBooleans","toLowerCase","parse","query","assign","arrayFormat","arrayFormatSeparator","formatter","accumulator","undefined","includes","isEncodedArray","newValue","item","parserForArrayFormat","create","param","k","reduce","Boolean","exports","stringify","object","shouldFilter","skipNull","skipEmptyString","encoderForArrayFormat","objectCopy","filter","parseUrl","url","url_","hash","parseFragmentIdentifier","fragmentIdentifier","stringifyUrl","queryFromUrl","parsedQueryFromUrl","queryString","getHash","pick","filterObject","exclude","exclusionFilter","useLayoutEffect","vanillaUseLayoutEffect","useEffect","useIsomorphicLayoutEffect","config","PRIORITY_PRELOAD","PRIORITY_SCISSORS","PRIORITY_VIEWPORTS","PRIORITY_GLOBAL","DEFAULT_SCALE_MULTIPLIER","preloadQueue","useCanvasStore","createState","api","state","listeners","Set","setState","partial","nextState","previousState","getState","subscribe","selector","equalityFn","is","console","warn","currentSlice","listenerToAdd","nextSlice","previousSlice","add","delete","subscribeWithSelector","destroy","clear","debug","scaleMultiplier","globalRender","globalPriority","globalClearDepth","globalRenderQueue","clearGlobalRenderQueue","isCanvasAvailable","hasSmoothScrollbar","canvasChildren","renderToCanvas","mesh","props","getOwnPropertyDescriptor","instances","inactive","_extends","updateCanvas","newProps","removeFromCanvas","dispose","_canvasChildren$key","_objectWithoutPropertiesLoose","_toPropertyKey","pageReflow","requestReflow","scroll","limit","velocity","progress","direction","scrollDirection","scrollTo","onScroll","createStore","useStore","forceUpdate","useReducer","c","stateRef","useRef","selectorRef","equalityFnRef","erroredRef","currentSliceRef","newStateSlice","current","hasNewStateSlice","stateBeforeSubscriptionRef","nextStateSlice","error","unsubscribe","sliceToReturn","useDebugValue","Symbol","iterator","items","next","done","shift","PerspectiveCamera","forwardRef","_ref","ref","makeDefault","margin","_excluded","useThree","camera","viewport","cameraRef","useImperativeHandle","fov","distance","aspect","useMemo","_props$position","position","PI","atan","tan","lookAt","updateProjectionMatrix","updateMatrixWorld","getCurrentViewport","oldCam","React","onUpdate","self","near","far","OrthographicCamera","max","setAllCulled","overrideCulled","wasFrustumCulled","frustumCulled","wasVisible","visible","children","child","viewportSize","Vector2","requestRender","layers","renderScissor","gl","scene","layer","autoClear","clearDepth","setScissor","setScissorTest","render","renderViewport","scissor","getSize","setViewport","preloadScene","globalScene","globalCamera","invalidate","useScrollRig","_scrollRig","reflow","reflowCompleted","DebugMesh","scale","createElement","args","uniforms","color","Color","vertexShader","fragmentShader","transparent","Map","RootIds","rootId","debounce","func","wait","immediate","context","timestamp","later","last","setTimeout","apply","debounced","callNow","clearTimeout","flush","debounce_1","isBrowser","useWindowSize","windowSize","setWindowSize","useState","innerWidth","innerHeight","canvasEl","getElementById","handleResize","debouncedResize","pkg","Polyfill","_observer","vecTypes","Proxy","prop","hasOwnProperty","getVecType","vecn","constructor","dimension","flattenOuter","every","Error","fill","super","Reflect","defineProperty","enumerable","magnitude","pnorm","div","v","checkCompatibility","dim","minus","neg","times","plus","pow","p","dot","normalize","abs","reflect","normal","argmax","maxVal","acc","argmin","minVal","min","choose","indices","isIndex","RangeError","copy","equals","approximatelyEquals","epsilon","sum","toArray","from","s","validator","swizzleSymbolMap","getSwizzleSymbolMap","newVals","valid","unique","SyntaxError","swizzleSet","newDim","values","swizzleGet","isInteger","classname","VecType","arr","_","promoteArrayDimension","writable","preventExtensions","namedIndices","z","w","r","g","t","q","find","o","numberValid","src","isVec","vec2","vec3","vec4","vecs","multiply","lerp","v1","v2","slerp","theta","acos","relative","cos","sin","mapLinear","a1","a2","b1","b2","useScrollbar","enabled","useTracker","track","rootMargin","threshold","autoUpdate","wrapper","opts","inView","inViewport","delay","trackVisibility","root","triggerOnce","skip","initialInView","fallbackInView","onChange","_state$entry","setRef","element","unsupportedValue","IntersectionObserver","bounds","getBoundingClientRect","isIntersecting","intersectionRatio","boundingClientRect","intersectionRect","rootBounds","id","elements","optionsToId","instance","thresholds","_elements$get","isVisible","createObserver","entryTarget","useInView","setScale","scrollState","visibility","rect","reactiveRect","setReactiveRect","positiveYUpBottom","_track$current","_rect","initialY","scrollTop","scrollY","initialX","scrollLeft","scrollX","log","update","useCallback","onlyUpdateInViewport","overrideScroll","_scroll","updateBounds","updatePosition","isHorizontal","sizeProp","pxInside","ScrollScene","memo","inViewportMargin","inViewportThreshold","hideOffscreen","as","priority","inlineSceneRef","setScene","Scene","useFrame","content","Fragment","InlineElement","createPortal","_excluded2","_excluded3","Viewport","orthographic","hud","setEvents","old","connected","manual","_ref2","_useTracker","trackerProps","compute","pointer","clientX","clientY","raycaster","setFromCamera","shallowEqualArrays","arrA","arrB","equal","len","deps","uniqueKey","MathUtils","generateUUID","useCanvas","globalCache","supportsWebP","Promise","resolve","image","Image","catch","fastDeepEqual","source","flags","valueOf","hasWebpSupport","bind","e","then","supported","advance","isRunning","to","currentTime","duration","easing","completed","fromTo","onWindowResize","onWrapperResize","onContentResize","documentElement","scrollHeight","scrollWidth","wrapperResizeObserver","contentResizeObserver","emit","on","wheelMultiplier","touchMultiplier","normalizeWheel","onTouchStart","targetTouches","touchStart","lastDelta","onTouchMove","emitter","deltaX","deltaY","onTouchEnd","inertia","onWheel","passive","l","gestureDirection","mouseMultiplier","smooth","h","wheelEventsTarget","u","smoothWheel","smoothTouch","d","syncTouch","m","syncTouchLerp","touchInertiaMultiplier","S","f","infinite","orientation","T","gestureOrientation","M","E","L","onVirtualScroll","ctrlKey","composedPath","hasAttribute","isStopped","isLocked","preventDefault","isSmooth","isScrolling","animate","targetScroll","programmatic","animatedScroll","actualScroll","sign","lenisVersion","dimensions","rootElement","classList","virtualScroll","off","setScroll","reset","raf","offset","lock","onComplete","force","querySelector","nodeType","__isSmooth","toggle","__isScrolling","__isStopped","SmoothScrollbar","SmoothScrollbarImpl","locked","scrollRestoration","disablePointerOnScroll","horizontal","scrollInContainer","updateGlobalState","addEffect","innerRef","lenis","preventPointer","globalScrollState","_lenis$current","_lenis$current2","_lenis$current3","notify","_lenis$current4","_lenis$current5","_lenis$current6","_lenis$current7","__lenis","preventPointerEvents","prevent","style","pointerEvents","history","html","firstElementChild","removeEffect","Lenis","_lenis$current8","_raf","_lenis$current9","cancelAnimationFrame","_lenis$current10","_lenis$current11","_lenis$current16","_onScroll","_lenis$current12","_lenis$current13","_lenis$current14","_lenis$current15","_lenis$current17","invalidateOnWheelEvent","onPointerInteraction","_lenis$current18","_lenis$current19","WebGLText","el","material","font","fontOffsetY","fontOffsetX","overrideEmissive","textColor","fontSize","textAlign","lineHeight","letterSpacing","convertSRGBToLinear","emissive","xOffset","Text","maxWidth","overflowWrap","anchorX","anchorY","WebGLImage","invalidateFrameLoop","widthSegments","heightSegments","pixelRatio","dpr","texture","imgRef","initTexture","premultiplyAlpha","_imgRef$current","_imgRef$current3","newSrcDetected","setNewSrcDetected","currentSrc","onLoad","_imgRef$current2","fn","preload","response","promise","lifespan","DefaultLoadingManager","itemStart","returnResolve","itemEnd","once","complete","LoaderProto","isSafari","isFirefox","firefoxVersion","createImageBitmap","useTextureLoader","TextureLoader","ImageBitmapLoader","useLoader","loader","setOptions","colorSpaceConversion","imageOrientation","setRequestHeader","Accept","Texture","ImageBitmap","CanvasTexture","useImageAsTexture","u_color","u_time","u_pixelRatio","u_progress","u_visibility","u_viewport","u_velocity","u_res","u_rect","u_size","u_texture","u_loaded","u_scaleMultiplier","delta","attach","ParallaxGroup","parallax","ParallaxScrollScene","speed","parallaxAmount","StickyChild","childTop","childBottom","parentScale","childScale","stickyLerp","group","yTop","rate","frameDelta","targetFps","v0","_lerp","StickyScrollScene","fillViewport","internalRef","childStyle","parentElement","renderAsSticky"],"mappings":"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"}